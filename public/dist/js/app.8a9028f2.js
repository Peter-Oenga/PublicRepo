(function(){"use strict";var e={7403:function(e,t,o){var a=o(3751),r=o(641);const s={id:"app"};function i(e,t,o,a,i,n){const l=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(l)])}var n={name:"App"},l=o(6262);const c=(0,l.A)(n,[["render",i]]);var d=c,u=o(5220),m=o(33);const p={class:"w-screen h-screen flex items-center"},h={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg"},g={class:"text-center mb-6"},A=["src"],v={key:0,class:"text-red-500 text-center text-sm mb-4"},b={class:"mt-6 flex justify-between items-center"},E={class:"mt-6 text-center"},y={class:"text-sm text-gray-500 mt-4"};function f(e,t,o,s,i,n){const l=(0,r.g2)("SpinnerComp"),c=(0,r.g2)("CustomInput"),d=(0,r.g2)("CustomButton"),u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("section",p,[(0,r.Lk)("div",h,[(0,r.Lk)("header",g,[(0,r.Lk)("img",{src:i.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,A),t[3]||(t[3]=(0,r.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Login",-1)),t[4]||(t[4]=(0,r.Lk)("p",{class:"mb-6"},"Log into your account",-1))]),(0,r.bF)(l,{loading:e.loading},null,8,["loading"]),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.handleLoginUser&&n.handleLoginUser(...e)),["prevent"]))},[e.errors.message?((0,r.uX)(),(0,r.CE)("p",v,(0,m.v_)(e.errors.message),1)):(0,r.Q3)("",!0),(0,r.bF)(c,{modelValue:i.form.email,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.email=e),type:"email",prompt:"Enter your email",error:e.errors.email?e.errors.email.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.password,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.password=e),type:"password",prompt:"Enter your password",error:e.errors.password?e.errors.password.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.Lk)("div",b,[(0,r.bF)(d,{type:"primary",onClick:n.handleLoginUser,inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)(" Login ")]))),_:1},8,["onClick"])])],32),(0,r.Lk)("div",E,[(0,r.bF)(u,{to:"/request-password-reset",class:"text-sm text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)(" Forgot Password? ")]))),_:1}),(0,r.Lk)("p",y,[t[8]||(t[8]=(0,r.eW)(" Don't have an account? ")),(0,r.bF)(u,{to:"/register",class:"text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)(" Register ")]))),_:1})])])])])}o(4114);const C={class:"relative mb-6"},R={class:"relative"},w=["type","value"],k={key:0,class:"mt-2 text-red-600 text-sm"};function L(e,t,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",C,[(0,r.Lk)("div",R,[(0,r.Lk)("input",(0,r.v6)({ref:"input",type:o.type,value:o.modelValue},e.$attrs,{class:i.inputClasses,onInput:t[0]||(t[0]=e=>i.updateValue(e.target.value)),onFocus:t[1]||(t[1]=e=>s.isFocused=!0),onBlur:t[2]||(t[2]=e=>s.isFocused=!1),placeholder:" "}),null,16,w),(0,r.Lk)("span",{class:(0,m.C4)(i.promptClasses)},(0,m.v_)(o.prompt),3)]),o.error?((0,r.uX)(),(0,r.CE)("p",k,(0,m.v_)(o.error),1)):(0,r.Q3)("",!0)])}var _={name:"CustomInput",props:{type:{type:String,default:"text"},error:{type:String,default:""},prompt:{type:String,default:""},inactiveColor:{type:String,default:"border-gray-500"},activeColor:{type:String,default:"border-blue-500"},modelValue:{type:String,default:""}},data(){return{isFocused:!1}},computed:{inputClasses(){return["block w-full px-4 py-3 rounded border","transition duration-200 ease-in-out",this.isFocused||this.modelValue?this.activeColor:this.inactiveColor]},promptClasses(){return["absolute left-4 transition-all duration-200 ease-in-out","text-gray-500 pointer-events-none",this.isFocused||this.modelValue?"text-xs -top-2 left-4 bg-white px-1":"text-base top-1/2 left-4 transform -translate-y-1/2"]}},methods:{updateValue(e){this.$emit("update:modelValue",e)},focusInput(){this.$refs.input&&this.$refs.input.focus()}}};const x=(0,l.A)(_,[["render",L],["__scopeId","data-v-7341bb7a"]]);var S=x;function I(e,t,o,a,s,i){return(0,r.uX)(),(0,r.CE)("button",{class:(0,m.C4)(i.buttonClasses),onMouseover:t[0]||(t[0]=e=>s.isHovered=!0),onMouseleave:t[1]||(t[1]=e=>s.isHovered=!1)},[(0,r.RG)(e.$slots,"default",{},void 0,!0)],34)}var D={name:"CustomButton",props:{type:{type:String,default:"primary"},inactiveColor:{type:String,default:"bg-blue-500"},activeColor:{type:String,default:"bg-blue-700"},inactiveTextColor:{type:String,default:"text-white"},activeTextColor:{type:String,default:"text-white"}},data(){return{isHovered:!1}},computed:{buttonClasses(){const e="px-4 py-2 rounded-full transition duration-200 ease-in-out";return"primary"===this.type?[e,this.isHovered?this.activeColor:this.inactiveColor,this.inactiveTextColor]:"secondary"===this.type?[e,"bg-transparent border border-blue-500",this.isHovered?"bg-blue-100 text-blue-700":"text-blue-500"]:e}}};const T=(0,l.A)(D,[["render",I],["__scopeId","data-v-58daa572"]]);var F=T;const O={key:0,class:"spinner-overlay"};function P(e,t,o,a,s,i){return o.loading?((0,r.uX)(),(0,r.CE)("div",O,t[0]||(t[0]=[(0,r.Lk)("div",{class:"spinner"},null,-1)]))):(0,r.Q3)("",!0)}var V={name:"SpinnerComp",props:{loading:{type:Boolean,required:!0}}};const j=(0,l.A)(V,[["render",P],["__scopeId","data-v-7c4ecf9e"]]);var U=j,B=o.p+"img/logo.2746769c.png",M=o(6278),Q={components:{CustomInput:S,CustomButton:F,SpinnerComp:U},data(){return{form:{email:"",password:""},logoSrc:B}},computed:{...(0,M.L8)("global",["loading"]),...(0,M.L8)("user",["errors"]),...(0,M.L8)("collection",["rootId"])},methods:{...(0,M.i0)("user",["loginUser"]),...(0,M.i0)("collection",["fetchRootId"]),async handleLoginUser(){const e=await this.loginUser(this.form);e&&(await this.fetchRootId(),this.$router.push({name:"Collection",params:{id:this.rootId}}))}}};const N=(0,l.A)(Q,[["render",f],["__scopeId","data-v-8e23aa64"]]);var $=N;const X={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg my-4"},W={class:"text-center mb-6"},G=["src"],J={key:0,class:"text-red-500 text-center text-sm mb-4"},K={class:"mt-4"},z=["src"],q={class:"mt-6 flex justify-between items-center"},H={class:"mt-2 text-center"},Y={class:"text-sm text-gray-500 mt-4"};function Z(e,t,o,s,i,n){const l=(0,r.g2)("SpinnerComp"),c=(0,r.g2)("CustomInput"),d=(0,r.g2)("CustomButton"),u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",X,[(0,r.bF)(l,{loading:e.loading},null,8,["loading"]),(0,r.Lk)("header",W,[(0,r.Lk)("img",{src:i.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,G),t[9]||(t[9]=(0,r.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Register",-1)),t[10]||(t[10]=(0,r.Lk)("p",{class:"mb-6"},"Create your account",-1))]),(0,r.Lk)("form",{onSubmit:t[8]||(t[8]=(0,a.D$)(((...e)=>n.handleRegisterUser&&n.handleRegisterUser(...e)),["prevent"]))},[e.errors.message?((0,r.uX)(),(0,r.CE)("p",J,(0,m.v_)(e.errors.message),1)):(0,r.Q3)("",!0),(0,r.bF)(c,{modelValue:i.form.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.first_name=e),type:"text",prompt:"First Name",error:e.errors.first_name?e.errors.first_name.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.middle_name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.middle_name=e),type:"text",prompt:"Middle Name (optional)",error:e.errors.middle_name?e.errors.middle_name.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.last_name=e),type:"text",prompt:"Last Name",error:e.errors.last_name?e.errors.last_name.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.email,"onUpdate:modelValue":t[3]||(t[3]=e=>i.form.email=e),type:"email",prompt:"Email",error:e.errors.email?e.errors.email.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>i.form.phone=e),type:"text",prompt:"Phone Number",error:e.errors.phone?e.errors.phone.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.password,"onUpdate:modelValue":t[5]||(t[5]=e=>i.form.password=e),type:"password",prompt:"Password",error:e.errors.password?e.errors.password.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.password_confirmation,"onUpdate:modelValue":t[6]||(t[6]=e=>i.form.password_confirmation=e),type:"password",prompt:"Confirm Password",error:e.errors.password_confirmation?e.errors.password_confirmation.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.Lk)("div",K,[t[11]||(t[11]=(0,r.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Avatar (optional)",-1)),(0,r.Lk)("input",{type:"file",onChange:t[7]||(t[7]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e)),class:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border file:border-gray-300 file:text-sm file:font-semibold hover:file:bg-gray-100"},null,32),i.avatarPreview?((0,r.uX)(),(0,r.CE)("img",{key:0,src:i.avatarPreview,alt:"Avatar Preview",class:"mt-2 w-32 h-32 object-cover rounded-full"},null,8,z)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",q,[(0,r.bF)(d,{type:"primary",inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,r.k6)((()=>t[12]||(t[12]=[(0,r.eW)(" Register ")]))),_:1})])],32),(0,r.Lk)("div",H,[(0,r.Lk)("p",Y,[t[14]||(t[14]=(0,r.eW)(" Already have an account? ")),(0,r.bF)(u,{to:"/login",class:"text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.eW)(" Login ")]))),_:1})])])])}o(8992),o(3949);var ee={components:{CustomInput:S,CustomButton:F,SpinnerComp:U},data(){return{form:{first_name:"",middle_name:"",last_name:"",email:"",password:"",password_confirmation:"",phone:"",avatar:null},avatarPreview:null,logoSrc:B}},computed:{...(0,M.L8)("user",["errors"]),...(0,M.L8)("global",["loading"])},methods:{...(0,M.i0)("user",["registerUser"]),handleFileUpload(e){const t=e.target.files[0];if(t){this.form.avatar=t;const e=new FileReader;e.onload=e=>{this.avatarPreview=e.target.result},e.readAsDataURL(t)}else this.form.avatar=null,this.avatarPreview=null},async handleRegisterUser(){const e=new FormData;Object.keys(this.form).forEach((t=>{("avatar"!==t||"avatar"===t&&this.form[t])&&e.append(t,this.form[t])}));const t=await this.registerUser(e);t&&this.$router.push({name:"Login"})}}};const te=(0,l.A)(ee,[["render",Z],["__scopeId","data-v-fb3f023e"]]);var oe=te;const ae={class:"w-screen h-screen flex items-center justify-center"},re={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg"},se={class:"text-center mb-6"},ie=["src"],ne={key:0,class:"text-red-500 text-center text-sm mb-4"},le={class:"mt-6 flex justify-center"},ce={class:"mt-6 text-center"};function de(e,t,o,s,i,n){const l=(0,r.g2)("SpinnerComp"),c=(0,r.g2)("CustomInput"),d=(0,r.g2)("CustomButton"),u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("section",ae,[(0,r.Lk)("div",re,[(0,r.Lk)("header",se,[(0,r.Lk)("img",{src:i.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,ie),t[2]||(t[2]=(0,r.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Request Password Reset",-1)),t[3]||(t[3]=(0,r.Lk)("p",{class:"mb-6"},"Enter your email to request a password reset link",-1))]),(0,r.bF)(l,{loading:e.loading},null,8,["loading"]),(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.handleRequestPasswordReset&&n.handleRequestPasswordReset(...e)),["prevent"]))},[e.errors.message?((0,r.uX)(),(0,r.CE)("p",ne,(0,m.v_)(e.errors.message),1)):(0,r.Q3)("",!0),(0,r.bF)(c,{modelValue:i.form.email,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.email=e),type:"email",prompt:"Enter your email",error:e.errors.email?e.errors.email.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.Lk)("div",le,[(0,r.bF)(d,{type:"primary",inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)(" Send Password Reset Link ")]))),_:1})])],32),(0,r.Lk)("div",ce,[(0,r.bF)(u,{to:"/login",class:"text-sm text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)(" Login ")]))),_:1})])])])}var ue={components:{CustomInput:S,CustomButton:F,SpinnerComp:U},computed:{...(0,M.L8)("user",["errors"]),...(0,M.L8)("global",["loading"])},data(){return{form:{email:""},logoSrc:B}},methods:{...(0,M.i0)("user",["requestPasswordReset"]),async handleRequestPasswordReset(){const e=await this.requestPasswordReset(this.form.email);e&&this.$router.push({name:"Login"})}}};const me=(0,l.A)(ue,[["render",de]]);var pe=me;const he={class:"w-screen h-screen flex items-center justify-center"},ge={class:"w-screen max-w-md mx-auto p-6 bg-white shadow-md rounded-lg"},Ae={class:"text-center mb-6"},ve=["src"],be={key:0,class:"text-red-500 text-center text-sm mb-4"},Ee={class:"mt-6 flex justify-center"},ye={class:"mt-6 text-center"};function fe(e,t,o,s,i,n){const l=(0,r.g2)("SpinnerComp"),c=(0,r.g2)("CustomInput"),d=(0,r.g2)("CustomButton"),u=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("section",he,[(0,r.Lk)("div",ge,[(0,r.Lk)("header",Ae,[(0,r.Lk)("img",{src:i.logoSrc,alt:"Logo",class:"mx-auto h-16 w-auto"},null,8,ve),t[3]||(t[3]=(0,r.Lk)("h2",{class:"text-3xl font-bold mt-2 mb-2"},"Reset Your Password",-1)),t[4]||(t[4]=(0,r.Lk)("p",{class:"mb-6"},"Enter your new password below",-1))]),(0,r.bF)(l,{loading:e.loading},null,8,["loading"]),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.handleResetPassword&&n.handleResetPassword(...e)),["prevent"]))},[e.errors.message?((0,r.uX)(),(0,r.CE)("p",be,(0,m.v_)(e.errors.message),1)):(0,r.Q3)("",!0),(0,r.bF)(c,{modelValue:i.form.password,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.password=e),type:"password",prompt:"New Password",error:e.errors.password?e.errors.password.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.form.password_confirmation,"onUpdate:modelValue":t[1]||(t[1]=e=>i.form.password_confirmation=e),type:"password",prompt:"Confirm Password",error:e.errors.password_confirmation?e.errors.password_confirmation.join(" "):"",inactiveColor:"border-gray-300",activeColor:"border-blue-500"},null,8,["modelValue","error"]),(0,r.Lk)("div",Ee,[(0,r.bF)(d,{type:"primary",inactiveColor:"bg-blue-500",activeColor:"bg-blue-700"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)(" Reset Password ")]))),_:1})])],32),(0,r.Lk)("div",ye,[(0,r.bF)(u,{to:"/login",class:"text-sm text-blue-500 hover:text-blue-700"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)(" Login ")]))),_:1})])])])}o(4603),o(7566),o(8721);var Ce={components:{CustomInput:S,CustomButton:F,SpinnerComp:U},computed:{...(0,M.L8)("user",["errors"]),...(0,M.L8)("global",["loading"])},data(){return{form:{password:"",password_confirmation:""},logoSrc:B}},methods:{...(0,M.i0)("user",["resetPassword"]),async handleResetPassword(){this.loading=!0,this.errors={};const e=new URLSearchParams(window.location.search),t=e.get("token"),o=e.get("email"),a={email:o,token:t,password:this.form.password,password_confirmation:this.form.password_confirmation},r=await this.resetPassword(a);r&&this.$router.push({name:"Login"})}}};const Re=(0,l.A)(Ce,[["render",fe]]);var we=Re;const ke={id:"dashboard"},Le={class:"content"};function _e(e,t,o,s,i,n){const l=(0,r.g2)("HeaderComponent"),c=(0,r.g2)("SidebarComponent"),d=(0,r.g2)("router-view"),u=(0,r.g2)("DocumentCreationModal"),m=(0,r.g2)("CreateCollectionModal"),p=(0,r.g2)("EventCreationModal"),h=(0,r.g2)("EventOutcomeModal"),g=(0,r.g2)("TagCreationModal"),A=(0,r.g2)("RoleCreationModal"),v=(0,r.g2)("CreateProjectModal"),b=(0,r.g2)("CreateAudienceModal"),E=(0,r.g2)("SpinnerComp");return(0,r.uX)(),(0,r.CE)("div",ke,[(0,r.bF)(l,{onToggleSidebar:n.toggleSidebar},null,8,["onToggleSidebar"]),(0,r.Lk)("div",Le,[(0,r.bF)(c,{"menu-items":i.menuItems,"is-overlay":i.isMobileOverlayVisible,onCloseOverlay:n.closeOverlay,onCreateDocument:n.openDocumentCreationModal,onCreateCollection:n.openCollectionCreationModal,onCreateEvent:n.openEventCreationModal,onCreateEventOutcome:n.openEventOutcomeModal,onCreateTag:t[0]||(t[0]=e=>i.showTagModal=!0),onCreateRole:t[1]||(t[1]=e=>i.showRoleModal=!0),onCreateProject:t[2]||(t[2]=e=>i.showProjectModal=!0),onCreateAudience:t[3]||(t[3]=e=>i.showAudienceModal=!0)},null,8,["menu-items","is-overlay","onCloseOverlay","onCreateDocument","onCreateCollection","onCreateEvent","onCreateEventOutcome"]),(0,r.Lk)("main",{onClick:t[4]||(t[4]=(0,a.D$)(((...e)=>n.closeOverlay&&n.closeOverlay(...e)),["self"]))},[(0,r.bF)(d,{onClick:(0,a.D$)(n.closeOverlay,["self"])},null,8,["onClick"])])]),(0,r.bF)(u,{"is-visible":i.showDocumentCreationModal,onClose:n.closeDocumentCreationModal,onCreate:n.addDocument},null,8,["is-visible","onClose","onCreate"]),(0,r.bF)(m,{"is-visible":i.showCollectionCreationModal,onClose:n.closeCollectionCreationModal,onCreate:n.addCollection},null,8,["is-visible","onClose","onCreate"]),(0,r.bF)(p,{"is-visible":i.showEventCreationModal,onClose:n.closeEventCreationModal},null,8,["is-visible","onClose"]),(0,r.bF)(h,{"is-visible":i.showEventOutcomeModal,onClose:n.closeEventOutcomeModal},null,8,["is-visible","onClose"]),(0,r.bF)(g,{"is-visible":i.showTagModal,onClose:t[5]||(t[5]=e=>i.showTagModal=!1)},null,8,["is-visible"]),(0,r.bF)(A,{"is-visible":i.showRoleModal,onClose:t[6]||(t[6]=e=>i.showRoleModal=!1)},null,8,["is-visible"]),(0,r.bF)(v,{"is-visible":i.showProjectModal,onClose:t[7]||(t[7]=e=>i.showProjectModal=!1)},null,8,["is-visible"]),(0,r.bF)(b,{"is-visible":i.showAudienceModal,onClose:t[8]||(t[8]=e=>i.showAudienceModal=!1)},null,8,["is-visible"]),(0,r.bF)(E,{loading:e.loading},null,8,["loading"])])}const xe={class:"header"},Se={key:0,class:"actions-area"};function Ie(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("SearchComponent");return(0,r.uX)(),(0,r.CE)("header",xe,[(0,r.Lk)("div",{class:(0,m.C4)(["logo-and-hamburger",{hidden:s.isMobileSearchVisible}])},[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.toggleSidebar&&i.toggleSidebar(...e)),class:"mr-4"},[(0,r.bF)(n,{icon:["fas","bars"],class:"w-5 h-5"})]),t[4]||(t[4]=(0,r.Lk)("img",{src:B,class:"h-8"},null,-1))],2),(0,r.Lk)("div",{class:(0,m.C4)({"hidden md:flex-1 md:mx-4":!s.isMobileSearchVisible&&!s.isMediumUp,"search-container":s.isMobileSearchVisible||s.isMediumUp})},[s.isMobileSearchVisible?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>i.hideSearch&&i.hideSearch(...e)),class:"text-white md:hidden mr-2"},[(0,r.bF)(n,{icon:["fas","arrow-left"],class:"w-5 h-5"})])):(0,r.Q3)("",!0),(0,r.bF)(l,{class:"search-bar",items:["A","B","C"],label:"for collection or document"})],2),!s.isMobileSearchVisible||s.isMediumUp?((0,r.uX)(),(0,r.CE)("div",Se,[s.isMobileSearchVisible||s.isMediumUp?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>i.showSearch&&i.showSearch(...e)),class:"md:hidden"},[(0,r.bF)(n,{icon:["fas","search"],class:"w-5 h-5"})])),(0,r.Lk)("button",{class:"flex items-center",onClick:t[3]||(t[3]=(...e)=>i.handleLogout&&i.handleLogout(...e))},[(0,r.bF)(n,{icon:["fas","power-off"],class:"w-5 h-5 mr-2"}),t[5]||(t[5]=(0,r.eW)(" Logout "))])])):(0,r.Q3)("",!0)])}var De=o(1273);const Te={class:"search-container relative"},Fe=["placeholder"];function Oe(e,t,o,s,i,n){const l=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("div",Te,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.query=e),onKeydown:t[1]||(t[1]=(0,a.jR)(((...t)=>e.emitSearch&&e.emitSearch(...t)),["enter"])),placeholder:`Search ${o.label}...`,class:"search-input w-full pl-4 pr-10 py-2 border border-gray-300 rounded-md"},null,40,Fe),[[a.Jo,i.query]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.performSearch&&n.performSearch(...e)),class:"search-icon absolute right-3 top-1/2 transform -translate-y-1/2"},[(0,r.bF)(l,{icon:["fas","search"],class:"w-5 h-5 text-gray-500"})]),i.query?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[3]||(t[3]=(...e)=>n.clearQuery&&n.clearQuery(...e)),class:"search-clear absolute right-10 top-1/2 transform -translate-y-1/2"},[(0,r.bF)(l,{icon:["fas","times"],class:"w-5 h-5 text-gray-500"})])):(0,r.Q3)("",!0)])}var Pe={name:"SearchComponent",props:{label:String,value:String},data(){return{query:this.value}},computed:{...(0,M.L8)("collection",["rootId"])},watch:{value(e){this.query=e}},async mounted(){this.rootId||await this.fetchRootId()},methods:{...(0,M.i0)("collection",["fetchRootId","fetchCollectionById","fetchRootCollection"]),...(0,M.i0)("event",["fetchEvents"]),...(0,M.i0)("tag",["fetchTags"]),async performSearch(){if(this.query.trim())if("Collection"===this.$route.name){const e=this.$route.params.id;e==this.rootId?await this.fetchRootCollection({tag:"",search:this.query}):e&&await this.fetchCollectionById({collectionId:e,tag:"",search:this.query})}else"Event"===this.$route.name?await this.fetchEvents({tag:"",search:this.query}):"Tag"===this.$route.name&&(console.log("tag route"),await this.fetchTags({name:this.query}))},clearQuery(){this.query="",this.performSearch()}}};const Ve=(0,l.A)(Pe,[["render",Oe],["__scopeId","data-v-2ff5ca6d"]]);var je=Ve,Ue={name:"HeaderComponent",components:{FontAwesomeIcon:De.gc,SearchComponent:je},data(){return{isMobileSearchVisible:!1,isMediumUp:window.innerWidth>=768}},methods:{...(0,M.i0)("user",["logoutUser"]),toggleSidebar(){this.$emit("toggle-sidebar")},showSearch(){this.isMobileSearchVisible=!0},hideSearch(){this.isMobileSearchVisible=!1},handleResize(){this.isMediumUp=window.innerWidth>=768,this.isMediumUp&&this.hideSearch()},async handleLogout(){const e=this.logoutUser();e&&this.$router.push({name:"Login"})}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const Be=(0,l.A)(Ue,[["render",Ie],["__scopeId","data-v-d84755c0"]]);var Me=Be;const Qe={class:"menu"},Ne=["onClick"],$e={key:0,class:"label"},Xe={class:"action-buttons"},We={key:0},Ge={key:0},Je={key:0},Ke={key:0},ze={key:0},qe={key:0},He={key:0},Ye={key:0};function Ze(e,t,o,s,i,n){const l=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("aside",{class:(0,m.C4)(n.sidebarClass),onClick:t[8]||(t[8]=(0,a.D$)(((...e)=>n.closeOverlay&&n.closeOverlay(...e)),["self"]))},[(0,r.Lk)("ul",Qe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.menuItems,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"menu-item cursor-pointer",onClick:t=>n.navigateTo(e.route)},[(0,r.bF)(l,{icon:["fas",e.icon],class:"icon"},null,8,["icon"]),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",$e,(0,m.v_)(e.label),1)):(0,r.Q3)("",!0)],8,Ne)))),128))]),(0,r.Lk)("div",Xe,[n.isAudienceRoute?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.handleCreateAudience&&n.handleCreateAudience(...e)),class:"action-button"},[(0,r.bF)(l,{icon:"plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",We,"Create Audience")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isProjectRoute?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>n.handleCreateProject&&n.handleCreateProject(...e)),class:"action-button"},[(0,r.bF)(l,{icon:"plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",Ge,"Create Project")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isCollectionRoute?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[2]||(t[2]=(...e)=>n.handleCreateDocument&&n.handleCreateDocument(...e)),class:"action-button"},[(0,r.bF)(l,{icon:"plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",Je,"Upload Document")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isCollectionRoute?((0,r.uX)(),(0,r.CE)("button",{key:3,onClick:t[3]||(t[3]=(...e)=>n.handleCreateCollection&&n.handleCreateCollection(...e)),class:"action-button"},[(0,r.bF)(l,{icon:"folder-plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",Ke,"Create Collection")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isEventRoute?((0,r.uX)(),(0,r.CE)("button",{key:4,onClick:t[4]||(t[4]=(...e)=>n.handleCreateEvent&&n.handleCreateEvent(...e)),class:"action-button"},[(0,r.bF)(l,{icon:"list-alt",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",ze,"Create Event")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isEventDetailRoute?((0,r.uX)(),(0,r.CE)("button",{key:5,onClick:t[5]||(t[5]=(...e)=>n.handleCreateEventOutcome&&n.handleCreateEventOutcome(...e)),class:"action-button"},[(0,r.bF)(l,{icon:"plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",qe,"Add Event Outcome")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isTagRoute?((0,r.uX)(),(0,r.CE)("button",{key:6,onClick:t[6]||(t[6]=t=>e.$emit("create-tag")),class:"action-button"},[(0,r.bF)(l,{icon:"plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",He,"Add Tag")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),n.isRoleRoute?((0,r.uX)(),(0,r.CE)("button",{key:7,onClick:t[7]||(t[7]=t=>e.$emit("create-role")),class:"action-button"},[(0,r.bF)(l,{icon:"plus",class:"mr-4"}),!i.isCollapsed||i.isTablet?((0,r.uX)(),(0,r.CE)("span",Ye,"Add Role")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0)])],2)}var et={name:"SidebarComponent",components:{FontAwesomeIcon:De.gc},props:{menuItems:{type:Array,required:!0},isOverlay:{type:Boolean,default:!1}},data(){return{isCollapsed:!1,isTablet:window.innerWidth>=768&&window.innerWidth<1024}},computed:{...(0,M.L8)("collection",["rootId"]),sidebarClass(){return{sidebar:!0,collapsed:this.isCollapsed,tablet:this.isTablet,overlay:this.isOverlay}},isAudienceRoute(){return"Audience"===this.$route.name},isProjectRoute(){return"Project"===this.$route.name},isCollectionRoute(){return"Collection"===this.$route.name},isEventRoute(){return"Event"===this.$route.name},isEventDetailRoute(){return"EventDetail"===this.$route.name},isTagRoute(){return"Tag"===this.$route.name},isRoleRoute(){return"Role"===this.$route.name}},methods:{...(0,M.i0)("collection",["fetchRootId"]),closeOverlay(){this.isOverlay&&this.$emit("close-overlay")},handleResize(){this.isTablet=window.innerWidth>=768&&window.innerWidth<1024,window.innerWidth>=1024&&(this.isCollapsed=!1)},handleCreateAudience(){this.closeOverlay(),this.$emit("create-audience")},handleCreateProject(){this.closeOverlay(),this.$emit("create-project")},handleCreateDocument(){this.closeOverlay(),this.$emit("create-document")},handleCreateCollection(){this.closeOverlay(),this.$emit("create-collection")},handleCreateEvent(){this.closeOverlay(),this.$emit("create-event")},handleCreateEventOutcome(){this.closeOverlay(),this.$emit("create-event-outcome")},async navigateTo(e){this.closeOverlay(),"Collection"===e?(this.rootId||await this.fetchRootId(),this.$router.push({name:e,params:{id:this.rootId}})):this.$router.push({name:e})}},mounted(){window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const tt=(0,l.A)(et,[["render",Ze],["__scopeId","data-v-d6036c8a"]]);var ot=tt;const at={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function rt(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("CustomText"),d=(0,r.g2)("CustomTagSelector"),u=(0,r.g2)("CustomFileInput"),p=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(p,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",at,(0,m.v_)(o.isEditing?"Edit Document":"Create Document"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...e)=>n.submitDocument&&n.submitDocument(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.documentData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.documentData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.documentData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.documentData.description=e),prompt:"Description (optional)",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(d,{value:i.documentData.tag_ids,onTagChange:n.handleTagChange,class:"mb-2"},null,8,["value","onTagChange"]),o.isEditing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(u,{key:0,value:i.documentData.file,onInput:t[2]||(t[2]=e=>i.documentData.file=e),label:"Upload Document",error:e.errors.file?e.errors.file.join(" "):"",required:""},null,8,["value","error"]))],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.submitDocument&&n.submitDocument(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(o.isEditing?"Update Document":"Create Document"),1)])),_:1},8,["isVisible","onClose"])}o(1454);const st={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75"},it={class:"relative bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:max-w-lg max-h-screen overflow-y-auto"},nt={class:"px-4 py-5 sm:p-6"};function lt(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon");return o.isVisible?((0,r.uX)(),(0,r.CE)("div",st,[(0,r.Lk)("div",it,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.close&&i.close(...e)),class:"absolute top-2 right-2 text-gray-400 hover:text-gray-600"},[(0,r.bF)(n,{icon:"xmark"})]),(0,r.Lk)("div",nt,[(0,r.RG)(e.$slots,"header"),(0,r.RG)(e.$slots,"body"),(0,r.RG)(e.$slots,"footer")])])])):(0,r.Q3)("",!0)}var ct={components:{FontAwesomeIcon:De.gc},props:{isVisible:{type:Boolean,default:!1}},methods:{close(){this.$emit("close")}}};const dt=(0,l.A)(ct,[["render",lt]]);var ut=dt;const mt={class:"relative mb-6"},pt={class:"relative"},ht=["value"],gt={key:0,class:"mt-2 text-red-600 text-sm"};function At(e,t,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",mt,[(0,r.Lk)("div",pt,[(0,r.Lk)("textarea",(0,r.v6)({ref:"textarea",value:o.modelValue},e.$attrs,{class:i.inputClasses,onInput:t[0]||(t[0]=e=>i.updateValue(e.target.value)),onFocus:t[1]||(t[1]=e=>s.isFocused=!0),onBlur:t[2]||(t[2]=e=>s.isFocused=!1),placeholder:" "}),null,16,ht),(0,r.Lk)("span",{class:(0,m.C4)(i.promptClasses)},(0,m.v_)(o.prompt),3)]),o.error?((0,r.uX)(),(0,r.CE)("p",gt,(0,m.v_)(o.error),1)):(0,r.Q3)("",!0)])}var vt={name:"CustomText",props:{error:{type:String,default:""},prompt:{type:String,default:""},inactiveColor:{type:String,default:"border-gray-500"},activeColor:{type:String,default:"border-blue-500"},modelValue:{type:String,default:""}},data(){return{isFocused:!1}},computed:{inputClasses(){return["block w-full px-4 py-3 rounded border resize-none","transition duration-200 ease-in-out",this.isFocused||this.modelValue?this.activeColor:this.inactiveColor]},promptClasses(){return["absolute left-4 transition-all duration-200 ease-in-out","text-gray-500 pointer-events-none",this.isFocused||this.modelValue?"text-xs -top-2 left-4 bg-white px-1":"text-base top-1/2 left-4 transform -translate-y-1/2"]}},methods:{updateValue(e){this.$emit("update:modelValue",e)},focusInput(){this.$refs.textarea&&this.$refs.textarea.focus()}}};const bt=(0,l.A)(vt,[["render",At],["__scopeId","data-v-b9bfcbae"]]);var Et=bt;const yt={class:"relative"},ft=["for"],Ct=["id","accept"],Rt={key:0,class:"mt-2 relative"},wt={key:0,class:"mt-2 preview-container"},kt=["src"],Lt={key:1},_t={class:"text-sm text-gray-600"},xt={key:1,class:"mt-2 text-red-600 text-sm"};function St(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("div",yt,[(0,r.Lk)("label",{for:o.id,class:"block text-sm font-medium text-gray-700"},(0,m.v_)(o.label),9,ft),(0,r.Lk)("input",{ref:"fileInput",type:"file",id:o.id,accept:o.accept,onChange:t[0]||(t[0]=(...e)=>i.handleFileChange&&i.handleFileChange(...e)),class:"mt-1 block w-full text-sm text-gray-900 border border-gray-300 rounded-md"},null,40,Ct),s.file?((0,r.uX)(),(0,r.CE)("div",Rt,[t[3]||(t[3]=(0,r.Lk)("p",{class:"text-sm font-medium text-gray-900"},"Preview:",-1)),i.isImage?((0,r.uX)(),(0,r.CE)("div",wt,[(0,r.Lk)("img",{src:s.filePreview,alt:"File Preview",class:"preview-image"},null,8,kt),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.resetFile&&i.resetFile(...e)),class:"absolute top-0 right-0 text-red-500 hover:text-red-700"},[(0,r.bF)(n,{icon:"xmark"})])])):((0,r.uX)(),(0,r.CE)("div",Lt,[(0,r.Lk)("p",_t,"File selected: "+(0,m.v_)(s.file.name),1),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.resetFile&&i.resetFile(...e)),class:"absolute top-0 right-0 text-red-500 hover:text-red-700"},[(0,r.bF)(n,{icon:"xmark"})])]))])):(0,r.Q3)("",!0),o.error?((0,r.uX)(),(0,r.CE)("p",xt,(0,m.v_)(o.error),1)):(0,r.Q3)("",!0)])}var It={components:{FontAwesomeIcon:De.gc},props:{value:{type:File,default:null},label:{type:String,default:"Upload File"},id:{type:String,default:"file-input"},accept:{type:String,default:"*/*"},error:{type:String,default:""}},data(){return{file:this.value,filePreview:null}},computed:{isImage(){return this.file&&this.file.type.startsWith("image/")}},methods:{handleFileChange(e){const t=e.target.files[0];t?(this.file=t,this.filePreview=this.isImage?URL.createObjectURL(t):null,this.$emit("input",t),this.$emit("new-file",t)):this.resetFile()},resetFile(){this.file=null,this.filePreview=null,this.$refs.fileInput.value="",this.$emit("input",null)}},watch:{value(e){this.file=e,this.filePreview=e&&e.type.startsWith("image/")?URL.createObjectURL(e):null}}};const Dt=(0,l.A)(It,[["render",St],["__scopeId","data-v-2e0120f3"]]);var Tt=Dt;const Ft={class:"w-full"},Ot=["value"],Pt={class:"flex flex-wrap gap-2 mt-2"},Vt=["onClick"];function jt(e,t,o,s,i,n){return(0,r.uX)(),(0,r.CE)("div",Ft,[(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedTagId=e),onChange:t[1]||(t[1]=(...e)=>n.addTag&&n.addTag(...e)),class:"w-full p-2 border border-gray-300 rounded-md mb-2"},[t[2]||(t[2]=(0,r.Lk)("option",{value:"",disabled:""},"Select a tag",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.availableTags,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e?.id,value:e?.id},(0,m.v_)(e?.name),9,Ot)))),128))],544),[[a.u1,i.selectedTagId]]),(0,r.Lk)("div",Pt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.selectedTags,(e=>((0,r.uX)(),(0,r.CE)("span",{key:e?.id,class:"px-2 py-1 bg-gray-700 text-white rounded-full shadow cursor-pointer hover:bg-blue-200",onClick:t=>n.removeTag(e)},(0,m.v_)(e?.name),9,Vt)))),128))])])}o(4520),o(2577);var Ut={props:{value:{type:Array,default:()=>[]}},data(){return{selectedTagId:""}},computed:{...(0,M.L8)("tag",["tags"]),availableTags(){return(this.tags||[]).filter((e=>e&&!this.value?.includes(e.id)))||[]},selectedTags(){return(this.value||[]).map((e=>(this.tags||[]).find((t=>t?.id===e)))).filter((e=>e))}},methods:{...(0,M.i0)("tag",["fetchTags"]),addTag(){this.selectedTagId&&!this.value?.includes(this.selectedTagId)&&(this.$emit("tag-change",[...this.value,this.selectedTagId]),this.selectedTagId="")},removeTag(e){this.$emit("tag-change",(this.value||[]).filter((t=>t!==e?.id)))}},created(){this.fetchTags({name:""})}};const Bt=(0,l.A)(Ut,[["render",jt]]);var Mt=Bt,Qt={components:{ModalLayout:ut,CustomInput:S,CustomText:Et,CustomFileInput:Tt,CustomTagSelector:Mt},props:{isVisible:{type:Boolean,default:!1},document:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!1}},data(){return{documentData:{name:this.document.name||"",description:this.document.description||"",file:null,tag_ids:[]}}},computed:{...(0,M.L8)("collection",["errors"])},methods:{...(0,M.i0)("collection",["createDocument","updateDocument","setErrors"]),submitDocument(){this.isEditing?this.updateDocument({...this.documentData,id:this.document.id}):this.createDocument(this.documentData)},handleTagChange(e){this.documentData.tag_ids=e},close(){const e={};this.setErrors(e),this.$emit("close")}},watch:{document(e){this.isEditing&&(this.documentData={name:e.name||"",description:e.description||"",file:null,tag_ids:e.tags?e.tags.map((e=>e.id)):[]})}}};const Nt=(0,l.A)(Qt,[["render",rt]]);var $t=Nt;function Xt(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("CustomText"),d=(0,r.g2)("CustomTagSelector"),u=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(u,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Create Collection ",-1)]))),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...t)=>e.createCollection&&e.createCollection(...t)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.collectionData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.collectionData.name=e),prompt:"Collection Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.collectionData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.collectionData.description=e),prompt:"Description (optional)",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(d,{value:i.collectionData.tag_ids,onTagChange:n.handleTagChange,class:"mb-2"},null,8,["value","onTagChange"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[3]||(t[3]=t=>e.createCollection(i.collectionData)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Create Collection ")])),_:1},8,["isVisible","onClose"])}var Wt={components:{ModalLayout:ut,CustomInput:S,CustomText:Et,CustomTagSelector:Mt},props:{isVisible:{type:Boolean,default:!1}},data(){return{collectionData:{name:"",description:"",tag_ids:[]}}},computed:{...(0,M.L8)("collection",["errors"])},methods:{...(0,M.i0)("collection",["createCollection","setErrors"]),handleTagChange(e){this.collectionData.tag_ids=e},close(){const e={};this.setErrors(e),this.$emit("close")}}};const Gt=(0,l.A)(Wt,[["render",Xt]]);var Jt=Gt;const Kt={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function zt(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("CustomText"),d=(0,r.g2)("CustomTagSelector"),u=(0,r.g2)("CustomFileInput"),p=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(p,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",Kt,(0,m.v_)(n.isEditing?"Edit Event":"Create Event"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>n.submitEvent&&n.submitEvent(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.eventData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.eventData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.eventData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.eventData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.eventData.location,"onUpdate:modelValue":t[2]||(t[2]=e=>i.eventData.location=e),prompt:"Location",error:e.errors.location?e.errors.location.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.eventData.start,"onUpdate:modelValue":t[3]||(t[3]=e=>i.eventData.start=e),prompt:"Start Date",type:"date",error:e.errors.start?e.errors.start.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.eventData.end,"onUpdate:modelValue":t[4]||(t[4]=e=>i.eventData.end=e),prompt:"End Date",type:"date",error:e.errors.end?e.errors.end.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(d,{value:i.eventData.tag_ids,onTagChange:n.handleTagChange,class:"mb-2"},null,8,["value","onTagChange"]),n.isEditing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(u,{key:0,value:i.eventData.poster,onInput:t[5]||(t[5]=e=>i.eventData.poster=e),label:"Upload Event Poster",error:e.errors.poster?e.errors.poster.join(" "):"",required:""},null,8,["value","error"]))],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.submitEvent&&n.submitEvent(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Event":"Create Event"),1)])),_:1},8,["isVisible","onClose"])}var qt={components:{ModalLayout:ut,CustomInput:S,CustomText:Et,CustomFileInput:Tt,CustomTagSelector:Mt},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{eventData:{name:"",description:"",location:"",start:"",end:"",tag_ids:[],poster:null}}},computed:{...(0,M.L8)("event",["errors","activeEvent"]),isEditing(){return!!this.id}},methods:{...(0,M.i0)("event",["fetchEventById","createEvent","updateEvent","setErrors"]),async submitEvent(){try{let e=new FormData;e.append("name",this.eventData.name),e.append("description",this.eventData.description),e.append("location",this.eventData.location),e.append("start",this.eventData.start),e.append("end",this.eventData.end),!this.isEditing&&this.eventData.poster&&e.append("poster",this.eventData.poster),this.eventData.tag_ids.forEach((t=>{e.append("tag_ids[]",t)})),this.isEditing?await this.updateEvent({id:this.id,formData:e}):await this.createEvent(e),0===Object.keys(this.errors).length&&(this.isEditing||this.resetForm(),alert("Event has been successfully saved!"))}catch(e){console.error("Error saving event:",e)}},handleTagChange(e){this.eventData.tag_ids=e},resetForm(){this.eventData={name:"",description:"",location:"",start:"",end:"",tag_ids:[],poster:null}},close(){this.setErrors({}),this.$emit("close")}},mounted(){this.isEditing&&this.id&&this.fetchEventById(this.id).then((()=>{const e=this.activeEvent;this.eventData={name:e.name||"",description:e.description||"",location:e.location||"",start:e.start?new Date(e.start).toISOString().split("T")[0]:"",end:e.end?new Date(e.end).toISOString().split("T")[0]:"",tag_ids:e.tags?e.tags.map((e=>e.id)):[],poster:null}}))},watch:{id(e){this.isEditing&&e?this.fetchEventById(e).then((()=>{const e=this.activeEvent;this.eventData={name:e.name||"",description:e.description||"",location:e.location||"",start:e.start?new Date(e.start).toISOString().split("T")[0]:"",end:e.end?new Date(e.end).toISOString().split("T")[0]:"",tag_ids:e.tags?e.tags.map((e=>e.id)):[],poster:null}})):this.resetForm()}}};const Ht=(0,l.A)(qt,[["render",zt]]);var Yt=Ht;const Zt={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function eo(e,t,o,s,i,n){const l=(0,r.g2)("CustomText"),c=(0,r.g2)("CustomInput"),d=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(d,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",Zt,(0,m.v_)(n.isEditing?"Edit Event Outcome":"Create Event Outcome"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.submitEventOutcome&&n.submitEventOutcome(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.eventOutcomeData.description,"onUpdate:modelValue":t[0]||(t[0]=e=>i.eventOutcomeData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.eventOutcomeData.date,"onUpdate:modelValue":t[1]||(t[1]=e=>i.eventOutcomeData.date=e),prompt:"Date",type:"date",error:e.errors.date?e.errors.date.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.submitEventOutcome&&n.submitEventOutcome(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Event Outcome":"Create Event Outcome"),1)])),_:1},8,["isVisible","onClose"])}var to={components:{ModalLayout:ut,CustomInput:S,CustomText:Et},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{eventOutcomeData:{description:"",date:""}}},computed:{...(0,M.L8)("eventOutcome",["errors"]),...(0,M.L8)("event",["activeEvent"]),eventId(){return this.activeEvent?.id||null},isEditing(){return!!this.id}},methods:{...(0,M.i0)("eventOutcome",["createEventOutcome","updateEventOutcome","setErrors"]),async submitEventOutcome(){try{const e={eventId:this.eventId,outcomeData:this.eventOutcomeData};this.isEditing?(e.outcomeId=this.id,await this.updateEventOutcome(e)):await this.createEventOutcome(e),0===Object.keys(this.errors).length&&(this.isEditing||this.resetForm(),alert("Event outcome has been successfully saved!"))}catch(e){console.error("Error saving event outcome:",e)}},resetForm(){this.eventOutcomeData={description:"",date:""}},close(){this.setErrors({}),this.$emit("close")}},mounted(){if(this.isEditing&&this.id){const e=this.activeEvent.outcomes.find((e=>e.id===this.id));this.eventOutcomeData={description:e?.description||"",date:e?.date||""}}},watch:{id(e){const t=this.activeEvent.outcomes.find((t=>t.id===e));this.eventOutcomeData={description:t?.description||"",date:t?.date||""}}}};const oo=(0,l.A)(to,[["render",eo]]);var ao=oo;const ro={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function so(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",ro,(0,m.v_)(n.isEditing?"Edit Tag":"Create Tag"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.submitTag&&n.submitTag(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.tagData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.tagData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitTag&&n.submitTag(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Tag":"Create Tag"),1)])),_:1},8,["isVisible","onClose"])}var io={components:{ModalLayout:ut,CustomInput:S},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{tagData:{name:""}}},computed:{...(0,M.L8)("tag",["errors","activeTag"]),isEditing(){return!!this.id}},methods:{...(0,M.i0)("tag",["fetchTagById","createTag","updateTag","setErrors"]),async submitTag(){try{this.isEditing?await this.updateTag({id:this.id,name:this.tagData.name}):await this.createTag({name:this.tagData.name}),0===Object.keys(this.errors).length&&(this.resetForm(),alert("Tag has been successfully saved!"))}catch(e){console.error("Error saving tag:",e)}},resetForm(){this.isEditing||(this.tagData.name="")},close(){this.setErrors({}),this.$emit("close")}},mounted(){this.isEditing&&this.id&&this.fetchTagById(this.id).then((()=>{this.tagData.name=this.activeTag.name||""}))},watch:{id(e){this.isEditing&&e?this.fetchTagById(e).then((()=>{this.tagData.name=this.activeTag.name||""})):this.resetForm()}}};const no=(0,l.A)(io,[["render",so]]);var lo=no;const co={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function uo(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",co,(0,m.v_)(n.isEditing?"Edit Role":"Create Role"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.submitRole&&n.submitRole(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.roleData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.roleData.name=e),prompt:"Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitRole&&n.submitRole(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Role":"Create Role"),1)])),_:1},8,["isVisible","onClose"])}var mo={components:{ModalLayout:ut,CustomInput:S},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{roleData:{name:""}}},computed:{...(0,M.L8)("role",["errors","activeRole"]),isEditing(){return!!this.id}},methods:{...(0,M.i0)("role",["fetchRoleById","createRole","updateRole","setErrors"]),async submitRole(){try{this.isEditing?(await this.updateRole({id:this.id,name:this.roleData.name}),this.$emit("close")):await this.createRole({name:this.roleData.name}),0===Object.keys(this.errors).length&&(this.resetForm(),alert("Role has been successfully saved!"))}catch(e){console.error("Error saving role:",e)}},resetForm(){this.isEditing||(this.roleData.name="")},close(){this.setErrors({}),this.$emit("close")}},mounted(){this.isEditing&&this.id&&this.fetchRoleById(this.id).then((()=>{this.roleData.name=this.activeRole?.name||""}))},watch:{id(e){this.isEditing&&e?this.fetchRoleById(e).then((()=>{this.roleData.name=this.activeRole?.name||""})):this.resetForm()}}};const po=(0,l.A)(mo,[["render",uo]]);var ho=po;const go={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},Ao=["value"],vo={key:0,class:"text-red-500"};function bo(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("CustomText"),d=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(d,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",go,(0,m.v_)(n.isEditing?"Edit Project":"Create Project"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.submitProject&&n.submitProject(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.projectData.title,"onUpdate:modelValue":t[0]||(t[0]=e=>i.projectData.title=e),prompt:"Project Title",error:e.errors.title?e.errors.title.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.projectData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.projectData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.projectData.start_date,"onUpdate:modelValue":t[2]||(t[2]=e=>i.projectData.start_date=e),type:"date",prompt:"Start Date",error:e.errors.start_date?e.errors.start_date.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.projectData.end_date,"onUpdate:modelValue":t[3]||(t[3]=e=>i.projectData.end_date=e),type:"date",prompt:"End Date",error:e.errors.end_date?e.errors.end_date.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.projectData.audience_id=e),required:""},[t[7]||(t[7]=(0,r.Lk)("option",{value:"",disabled:""},"Select Audience",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.audiences,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,Ao)))),128))],512),[[a.u1,i.projectData.audience_id]]),e.errors.audience_id?((0,r.uX)(),(0,r.CE)("p",vo,(0,m.v_)(e.errors.audience_id.join(" ")),1)):(0,r.Q3)("",!0)],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.submitProject&&n.submitProject(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Project":"Create Project"),1)])),_:1},8,["isVisible","onClose"])}var Eo={components:{ModalLayout:ut,CustomInput:S,CustomText:Et},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{projectData:{title:"",description:"",start_date:"",end_date:"",audience_id:""}}},computed:{...(0,M.L8)("audience",["audiences"]),...(0,M.L8)("project",["errors","activeProject"]),isEditing(){return null!==this.id},hasErrors(){return Object.keys(this.errors).length>0}},methods:{...(0,M.i0)("audience",["fetchAudiences"]),...(0,M.i0)("project",["createProject","updateProject","setErrors","fetchProjectById"]),async submitProject(){try{this.isEditing?await this.updateProject({id:this.id,...this.projectData}):await this.createProject(this.projectData),this.hasErrors||this.close()}catch(e){console.error("Error saving project:",e)}},reset(){this.projectData={title:"",description:"",start_date:"",end_date:"",audience_id:""};const e={};this.setErrors(e)},close(){this.reset(),this.$emit("close")}},async mounted(){await this.fetchAudiences()},watch:{id:{immediate:!0,async handler(e){e&&this.isEditing&&(await this.fetchProjectById(e),this.projectData={title:this.activeProject.title||"",description:this.activeProject.description||"",start_date:this.activeProject.start_date||"",end_date:this.activeProject.end_date||"",audience_id:this.activeProject.audience_id||""})}}}};const yo=(0,l.A)(Eo,[["render",bo]]);var fo=yo;const Co={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function Ro(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",Co,(0,m.v_)(n.isEditing?"Edit Audience":"Create Audience"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.submitAudience&&n.submitAudience(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.audienceData.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.audienceData.name=e),prompt:"Audience Name",error:e.errors.name?e.errors.name.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitAudience&&n.submitAudience(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Audience":"Create Audience"),1)])),_:1},8,["isVisible","onClose"])}var wo={components:{ModalLayout:ut,CustomInput:S},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{audienceData:{name:""}}},computed:{...(0,M.L8)("audience",["errors","activeAudience"]),...(0,M.L8)("global",["loading"]),isEditing(){return null!=this.id},hasErrors(){return Object.keys(this.errors).length>0}},methods:{...(0,M.i0)("audience",["createAudience","updateAudience","setErrors","fetchAudienceById"]),async submitAudience(){try{this.isEditing?await this.updateAudience({id:this.id,...this.audienceData}):await this.createAudience(this.audienceData),this.hasErrors||this.close()}catch(e){console.error("Error saving audience:",e)}},reset(){this.audienceData={name:""};const e={};this.setErrors(e)},close(){this.reset(),this.$emit("close")}},watch:{id:{immediate:!0,async handler(e){e&&this.isEditing&&(await this.fetchAudienceById(e),this.audienceData={name:this.activeAudience?.name||""})}}}};const ko=(0,l.A)(wo,[["render",Ro]]);var Lo=ko,_o={name:"DashboardPage",components:{HeaderComponent:Me,SidebarComponent:ot,DocumentCreationModal:$t,CreateCollectionModal:Jt,EventCreationModal:Yt,EventOutcomeModal:ao,TagCreationModal:lo,RoleCreationModal:ho,CreateProjectModal:fo,CreateAudienceModal:Lo,SpinnerComp:U},computed:{...(0,M.L8)("global",["loading"])},data(){return{menuItems:[{id:2,icon:"folder",label:"Collections",route:"Collection"},{id:3,icon:"calendar",label:"Events",route:"Event"},{id:4,icon:"file-alt",label:"Documents",route:"Document"},{id:5,icon:"tag",label:"Tags",route:"Tag"},{id:6,icon:"user",label:"Profile",route:"UserDetail"},{id:7,icon:"key",label:"Roles & Permissions",route:"Role"},{id:8,icon:"briefcase",label:"Projects",route:"Project"},{id:9,icon:"eye",label:"Audience",route:"Audience"}],isMobileOverlayVisible:!1,showDocumentCreationModal:!1,showCollectionCreationModal:!1,showEventCreationModal:!1,showEventOutcomeModal:!1,showTagModal:!1,showRoleModal:!1,showProjectModal:!1,showAudienceModal:!1}},methods:{toggleSidebar(){window.innerWidth>=1024?this.isMobileOverlayVisible=!1:this.isMobileOverlayVisible=!this.isMobileOverlayVisible},closeOverlay(){this.isMobileOverlayVisible=!1},handleResize(){window.innerWidth>=1024&&(this.isMobileOverlayVisible=!1)},openDocumentCreationModal(){this.showDocumentCreationModal=!0},closeDocumentCreationModal(){this.showDocumentCreationModal=!1},addDocument(e){this.$store.dispatch("addDocument",e)},openCollectionCreationModal(){this.showCollectionCreationModal=!0},closeCollectionCreationModal(){this.showCollectionCreationModal=!1},addCollection(e){this.$store.dispatch("collection/createCollection",e)},openEventCreationModal(){this.showEventCreationModal=!0},closeEventCreationModal(){this.showEventCreationModal=!1},addEvent(e){this.$store.dispatch("event/createEvent",e)},openEventOutcomeModal(){this.showEventOutcomeModal=!0},closeEventOutcomeModal(){this.showEventOutcomeModal=!1},addEventOutcome(e){this.$store.dispatch("eventOutcome/createEventOutcome",e)}},mounted(){window.addEventListener("resize",this.handleResize),console.log("Dashboard Menu Items:",this.menuItems)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)}};const xo=(0,l.A)(_o,[["render",_e],["__scopeId","data-v-31d8c6ad"]]);var So=xo,Io=o.p+"img/empty_collection.445101cc.jpg";const Do={class:"collection-page"},To={key:1,class:"empty-collection"},Fo={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4"};function Oo(e,t,o,a,s,i){const n=(0,r.g2)("BreadcrumbComponent"),l=(0,r.g2)("ItemCard");return(0,r.uX)(),(0,r.CE)("div",Do,[e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(n,{key:0})),i.isEmptyCollection&&0==e.loading?((0,r.uX)(),(0,r.CE)("div",To,t[0]||(t[0]=[(0,r.Lk)("img",{src:Io,alt:"No Collections",class:"empty-icon"},null,-1),(0,r.Lk)("p",{class:"empty-message"},"There are no collections or documents here yet. Start by creating a new collection!",-1)]))):((0,r.uX)(),(0,r.CE)("div",Fo,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.items,(e=>((0,r.uX)(),(0,r.Wv)(l,{key:e.id,title:e.name,description:e.description||"",type:e.type,"file-type":e.fileType,"author-name":e.authorName||"Unknown Author","author-avatar":e.authorAvatar||"default-avatar.png","upload-date":e.uploadDate,tags:e.tags?e.tags:[],onClick:t=>i.navigateTo(e)},null,8,["title","description","type","file-type","author-name","author-avatar","upload-date","tags","onClick"])))),128))]))])}const Po={class:"card p-4 border rounded-md shadow-sm flex"},Vo={class:"icon-container mr-4"},jo=["src"],Uo={class:"content flex-1"},Bo={class:"text-lg font-semibold"},Mo={class:"text-sm text-gray-600"},Qo={class:"my-2"},No=["onClick"],$o={key:0,class:"flex items-center mt-2"},Xo=["src"],Wo={class:"text-sm font-medium"},Go={class:"text-xs text-gray-500"};function Jo(e,t,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",Po,[(0,r.Lk)("div",Vo,[(0,r.Lk)("img",{src:i.iconSrc,alt:"Item Icon",class:"w-12 h-12 object-cover"},null,8,jo)]),(0,r.Lk)("div",Uo,[(0,r.Lk)("h3",Bo,(0,m.v_)(o.title),1),(0,r.Lk)("p",Mo,(0,m.v_)(o.description),1),(0,r.Lk)("div",Qo,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.tags,(e=>((0,r.uX)(),(0,r.CE)("span",{key:e.id,onClick:t=>i.handleTagFilter(e.name,t),class:"inline-block px-3 py-1 mr-2 mb-2 text-sm bg-gray-700 text-white rounded-full"},(0,m.v_)(e.name),9,No)))),128))]),"document"===o.type?((0,r.uX)(),(0,r.CE)("div",$o,[(0,r.Lk)("img",{src:i.formattedAuthorAvatar,alt:"Author Avatar",class:"w-8 h-8 rounded-full mr-2"},null,8,Xo),(0,r.Lk)("div",null,[(0,r.Lk)("p",Wo,(0,m.v_)(o.authorName),1),(0,r.Lk)("p",Go,(0,m.v_)(i.formattedDate),1)])])):(0,r.Q3)("",!0)])])}var Ko={name:"ItemCard",props:{title:{type:String,required:!0},description:{type:String,required:!0},type:{type:String,required:!0},fileType:{type:String,default:null},authorName:{type:String,default:""},authorAvatar:{type:String,default:null},uploadDate:{type:String,default:""},tags:{type:Array,required:!1}},computed:{iconSrc(){if("document"!==this.type)return"collection"===this.type?o(3432):o(4851);switch(this.fileType){case"image/png":case"image/jpeg":case"image/gif":return o(5390);case"application/pdf":return o(2843);case"text/plain":case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return o(1984);default:return o(4851)}},formattedDate(){if("document"===this.type){const e=new Date(this.uploadDate);return e.toLocaleDateString()+" "+e.toLocaleTimeString()}return""},formattedAuthorAvatar(){const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||"/";return this.authorAvatar?`${e}storage/${this.authorAvatar}`:`${e}storage/avatars/default-avatar.png`},...(0,M.L8)("collection",["rootId"])},methods:{...(0,M.i0)("collection",["fetchRootCollection","fetchCollectionById"]),async handleTagFilter(e,t){if(t.stopPropagation(),"Collection"===this.$route.name){const t=this.$route.params.id;this.rootId&&t==this.rootId?await this.fetchRootCollection({tag:e,search:""}):t&&await this.fetchCollectionById({collectionId:t,tag:e,search:""})}}}};const zo=(0,l.A)(Ko,[["render",Jo],["__scopeId","data-v-06125a84"]]);var qo=zo;const Ho={class:"flex items-center space-x-2"},Yo={key:1},Zo={key:1},ea={key:2};function ta(e,t,o,s,i,n){const l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",Ho,[n.isRoot?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(l,{key:0,to:{name:"Collection",params:{id:e.rootId}},class:"text-blue-500 hover:underline"},{default:(0,r.k6)((()=>t[0]||(t[0]=[(0,r.eW)(" Root ")]))),_:1},8,["to"])),n.isRoot?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",Yo,"/")),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.breadcrumb,((t,o)=>((0,r.uX)(),(0,r.CE)(r.FK,{key:o},[o!==e.breadcrumb.length-1?((0,r.uX)(),(0,r.Wv)(l,{key:0,onClick:(0,a.D$)((e=>n.handleBreadcrumbClick(o,t)),["prevent"]),class:"text-blue-500 hover:underline",to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)((0,m.v_)(t.name),1)])),_:2},1032,["onClick"])):((0,r.uX)(),(0,r.CE)("span",Zo,(0,m.v_)(t.name),1)),o!==e.breadcrumb.length-1?((0,r.uX)(),(0,r.CE)("span",ea,"/")):(0,r.Q3)("",!0)],64)))),128))])}var oa={name:"BreadcrumbComponent",computed:{...(0,M.L8)("breadcrumb",["breadcrumb"]),...(0,M.L8)("collection",["rootId"]),isRoot(){return 0===this.breadcrumb.length}},methods:{...(0,M.i0)("breadcrumb",["trimBreadcrumb"]),handleBreadcrumbClick(e,t){this.trimBreadcrumb(e),this.$router.push({name:t.type.charAt(0).toUpperCase()+t.type.slice(1),params:{id:t.id}})}}};const aa=(0,l.A)(oa,[["render",ta]]);var ra=aa,sa={name:"CollectionPage",components:{ItemCard:qo,BreadcrumbComponent:ra},computed:{...(0,M.L8)("global",["loading"]),...(0,M.L8)("collection",["activeCollection","rootId"]),items(){const e=this.activeCollection?.children?.map((e=>({...e,type:"collection"})))||[],t=this.activeCollection?.documents?.map((e=>({...e,type:"document",fileType:e.file_type,uploadDate:e.created_at,authorName:e.user?`${e.user.first_name} ${e.user.last_name}`:null,authorAvatar:e.user?.avatar})))||[];return[...e,...t]},isEmptyCollection(){return!this.activeCollection||!this.activeCollection.children?.length&&!this.activeCollection.documents?.length}},methods:{...(0,M.i0)("collection",["setActiveCollection","fetchRootCollection","fetchCollectionById","fetchRootId"]),...(0,M.i0)("document",["setActiveDocument"]),...(0,M.i0)("breadcrumb",["addbBreadcrumItem","clearBreadcrumb"]),navigateTo(e){const t={id:e.id,name:e.name,type:e.type};this.addbBreadcrumItem(t),"collection"===e.type?this.$router.push({name:"Collection",params:{id:e.id}}):"document"===e.type&&this.$router.push({name:"Document",params:{id:e.id}})}},watch:{"$route.params.id":{async handler(e){e==this.rootId?(this.clearBreadcrumb(),await this.fetchRootCollection({tag:"",search:""})):await this.fetchCollectionById({collectionId:e,tag:"",search:""})},immediate:!0}}};const ia=(0,l.A)(sa,[["render",Oo],["__scopeId","data-v-94fa234a"]]);var na=ia;const la={key:0,class:"document-page p-6"},ca={key:1,class:"bg-white shadow rounded-lg p-6 mb-6"},da={class:"text-3xl font-bold mb-2"},ua={class:"text-gray-700 mb-4"},ma={class:"my-2"},pa={class:"flex items-center space-x-4 mb-6"},ha=["src"],ga={class:"text-lg font-semibold"},Aa={class:"text-sm text-gray-500"},va={class:"flex space-x-4 mb-6"},ba={key:2,class:"bg-white shadow rounded-lg p-6"},Ea={class:"w-full table-auto border-collapse"},ya={class:"px-4 py-2"},fa={class:"px-4 py-2"},Ca={class:"px-4 py-2"},Ra={class:"px-4 py-2"},wa=["onClick"],ka=["onClick"],La={key:0},_a={key:3,class:"bg-white shadow rounded-lg p-6"},xa={class:"w-full table-auto border-collapse"},Sa={class:"px-4 py-2"},Ia={class:"px-4 py-2"},Da={class:"px-4 py-2"},Ta={class:"px-4 py-2"},Fa=["onClick"],Oa=["onClick"],Pa={key:0};function Va(e,t,o,a,s,i){const n=(0,r.g2)("BreadcrumbComponent"),l=(0,r.g2)("font-awesome-icon"),c=(0,r.g2)("DocumentVersionCreationModal"),d=(0,r.g2)("ReportDataModal"),u=(0,r.g2)("DocumentCreationModal");return!e.loading&&e.activeDocument?((0,r.uX)(),(0,r.CE)("div",la,[e.loading?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(n,{key:0})),e.activeDocument?((0,r.uX)(),(0,r.CE)("div",ca,[(0,r.Lk)("h1",da,(0,m.v_)(e.activeDocument?.name),1),(0,r.Lk)("p",ua,(0,m.v_)(e.activeDocument?.description||"No description available"),1),(0,r.Lk)("div",ma,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activeDocument?.tags,(e=>((0,r.uX)(),(0,r.CE)("span",{key:e.id,class:"inline-block px-3 py-1 mr-2 mb-2 text-sm bg-gray-700 text-white rounded-full"},(0,m.v_)(e?.name),1)))),128))]),(0,r.Lk)("div",pa,[e.activeDocument?.user?.avatar?((0,r.uX)(),(0,r.CE)("img",{key:0,src:i.formattedUserAvatar,alt:"User Avatar",class:"w-12 h-12 rounded-full"},null,8,ha)):(0,r.Q3)("",!0),(0,r.Lk)("div",null,[(0,r.Lk)("p",ga,(0,m.v_)(e.activeDocument?.user?.first_name)+" "+(0,m.v_)(e.activeDocument?.user?.last_name),1),(0,r.Lk)("p",Aa,(0,m.v_)(new Date(e.activeDocument.created_at).toLocaleDateString()),1)])]),(0,r.Lk)("div",va,[(0,r.Lk)("button",{class:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[0]||(t[0]=(...e)=>i.handleDownloadDocument&&i.handleDownloadDocument(...e))},[(0,r.bF)(l,{icon:"download",class:"mr-2"}),t[8]||(t[8]=(0,r.eW)(" Download "))]),(0,r.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=e=>s.showDocumentModal=!0)},[(0,r.bF)(l,{icon:"edit",class:"mr-2"}),t[9]||(t[9]=(0,r.eW)(" Edit "))]),(0,r.Lk)("button",{class:"bg-gray-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=e=>s.showVersionModal=!0)},[(0,r.bF)(l,{icon:"upload",class:"mr-2"}),t[10]||(t[10]=(0,r.eW)(" Upload New Version "))]),(0,r.Lk)("button",{class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[3]||(t[3]=e=>s.showReportModal=!0)},[(0,r.bF)(l,{icon:"plus",class:"mr-2"}),t[11]||(t[11]=(0,r.eW)(" Add Report Data "))]),(0,r.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[4]||(t[4]=(...e)=>i.confirmDelete&&i.confirmDelete(...e))},[(0,r.bF)(l,{icon:"trash",class:"mr-2"}),t[12]||(t[12]=(0,r.eW)(" Delete "))])])])):(0,r.Q3)("",!0),e.activeDocument?((0,r.uX)(),(0,r.CE)("div",ba,[t[17]||(t[17]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-4"},"Version History",-1)),(0,r.Lk)("table",Ea,[t[16]||(t[16]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"bg-gray-100 border-b"},[(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Version"),(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Date"),(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Description"),(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activeDocument.versions||[],(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"border-b"},[(0,r.Lk)("td",ya,(0,m.v_)(e.version_number),1),(0,r.Lk)("td",fa,(0,m.v_)(new Date(e.created_at).toLocaleDateString()),1),(0,r.Lk)("td",Ca,(0,m.v_)(e.description),1),(0,r.Lk)("td",Ra,[(0,r.Lk)("button",{class:"text-blue-500 hover:underline mr-2",onClick:t=>i.handleDownloadDocumentVersion(e.id)},[(0,r.bF)(l,{icon:"download"}),t[13]||(t[13]=(0,r.eW)(" Download "))],8,wa),(0,r.Lk)("button",{class:"text-red-500 hover:underline",onClick:t=>i.handleRestoreDocumentVersion(e.id)},[(0,r.bF)(l,{icon:"undo"}),t[14]||(t[14]=(0,r.eW)(" Restore "))],8,ka)])])))),128)),e.activeDocument.versions&&e.activeDocument.versions.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("tr",La,t[15]||(t[15]=[(0,r.Lk)("td",{colspan:"4",class:"px-4 py-2 text-center text-gray-500"}," No version history available ",-1)])))])])])):(0,r.Q3)("",!0),e.activeDocument?((0,r.uX)(),(0,r.CE)("div",_a,[t[22]||(t[22]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-4"},"Report Data",-1)),(0,r.Lk)("table",xa,[t[21]||(t[21]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"bg-gray-100 border-b"},[(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Municipality"),(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Participants"),(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Workshops"),(0,r.Lk)("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.reports,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"border-b"},[(0,r.Lk)("td",Sa,(0,m.v_)(e.municipality),1),(0,r.Lk)("td",Ia,(0,m.v_)(e.participants),1),(0,r.Lk)("td",Da,(0,m.v_)(e.workshops),1),(0,r.Lk)("td",Ta,[(0,r.Lk)("button",{class:"text-blue-500 hover:underline",onClick:t=>i.showEditReportModal(e)},[(0,r.bF)(l,{icon:"edit"}),t[18]||(t[18]=(0,r.eW)(" Edit "))],8,Fa),(0,r.Lk)("button",{class:"text-red-500 hover:underline",onClick:t=>i.handleDeleteReport(e.id)},[(0,r.bF)(l,{icon:"trash"}),t[19]||(t[19]=(0,r.eW)(" Delete "))],8,Oa)])])))),128)),e.reports&&e.reports.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("tr",Pa,t[20]||(t[20]=[(0,r.Lk)("td",{colspan:"4",class:"px-4 py-2 text-center text-gray-500"}," No report data available ",-1)])))])])])):(0,r.Q3)("",!0),(0,r.bF)(c,{isVisible:s.showVersionModal,onClose:t[5]||(t[5]=e=>s.showVersionModal=!1)},null,8,["isVisible"]),(0,r.bF)(d,{isVisible:s.showReportModal,onClose:t[6]||(t[6]=e=>s.showReportModal=!1),report:s.editingReport},null,8,["isVisible","report"]),(0,r.bF)(u,{isVisible:s.showDocumentModal,isEditing:!0,document:e.activeDocument,onClose:t[7]||(t[7]=e=>s.showDocumentModal=!1)},null,8,["isVisible","document"])])):(0,r.Q3)("",!0)}function ja(e,t,o,s,i,n){const l=(0,r.g2)("CustomText"),c=(0,r.g2)("CustomFileInput"),d=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(d,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Upload New Version ",-1)]))),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.uploadVersion&&n.uploadVersion(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.versionData.description,"onUpdate:modelValue":t[0]||(t[0]=e=>i.versionData.description=e),prompt:"Version Description (optional)",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{value:i.versionData.file,onInput:t[1]||(t[1]=e=>i.versionData.file=e),label:"Upload New Version",error:e.errors.file?e.errors.file.join(" "):"",required:""},null,8,["value","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.uploadVersion&&n.uploadVersion(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Upload Version ")])),_:1},8,["isVisible","onClose"])}var Ua={components:{ModalLayout:ut,CustomText:Et,CustomFileInput:Tt},props:{isVisible:{type:Boolean,default:!1}},data(){return{versionData:{description:"",file:null}}},computed:{...(0,M.L8)("collection",["errors"])},methods:{...(0,M.i0)("collection",["uploadDocumentVersion","setErrors"]),close(){this.setErrors({}),this.$emit("close")},uploadVersion(){this.versionData.file?this.uploadDocumentVersion(this.versionData).then((()=>this.close())):this.setErrors({file:["File is required"]})}}};const Ba=(0,l.A)(Ua,[["render",ja]]);var Ma=Ba;const Qa={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function Na(e,t,o,s,i,n){const l=(0,r.g2)("CustomText"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",Qa,(0,m.v_)(o.isEditing?"Edit Report Data":"Add Report Data"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.submitReportData&&n.submitReportData(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.reportData.municipality,"onUpdate:modelValue":t[0]||(t[0]=e=>i.reportData.municipality=e),prompt:"Municipality",error:e.errors.municipality?e.errors.municipality.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.reportData.participants,"onUpdate:modelValue":t[1]||(t[1]=e=>i.reportData.participants=e),prompt:"Number of Participants",type:"number",error:e.errors.participants?e.errors.participants.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.reportData.workshops,"onUpdate:modelValue":t[2]||(t[2]=e=>i.reportData.workshops=e),prompt:"Number of Workshops",type:"number",error:e.errors.workshops?e.errors.workshops.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.reportData.challenges,"onUpdate:modelValue":t[3]||(t[3]=e=>i.reportData.challenges=e),prompt:"Challenges (comma-separated)",error:e.errors.challenges?e.errors.challenges.join(" "):""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.reportData.recommendations,"onUpdate:modelValue":t[4]||(t[4]=e=>i.reportData.recommendations=e),prompt:"Recommendations (comma-separated)",error:e.errors.recommendations?e.errors.recommendations.join(" "):""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.submitReportData&&n.submitReportData(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(o.isEditing?"Update Report":"Add Report Data"),1)])),_:1},8,["isVisible","onClose"])}var $a={components:{ModalLayout:ut,CustomText:Et},props:{isVisible:{type:Boolean,default:!1},report:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!1}},data(){return{reportData:{municipality:"",participants:0,workshops:0,challenges:"",recommendations:""}}},computed:{...(0,M.L8)("collection",["errors"])},methods:{...(0,M.i0)("collection",["createReport","updateReport","setErrors"]),submitReportData(){const e={municipality:this.reportData.municipality,participants:this.reportData.participants,workshops:this.reportData.workshops,challenges:this.reportData.challenges?this.reportData.challenges.split(",").map((e=>e.trim())):[],recommendations:this.reportData.recommendations?this.reportData.recommendations.split(",").map((e=>e.trim())):[]};console.log("payload",e),this.isEditing?this.updateReport({id:this.report.id,...e}):this.createReport(e)},close(){const e={};this.setErrors(e),this.$emit("close")}},watch:{report:{immediate:!0,handler(e){this.reportData=e?{municipality:e.municipality||"",participants:e.participants||0,workshops:e.workshops||0,challenges:e.challenges||"",recommendations:e.recommendations||""}:{municipality:"",participants:0,workshops:0,challenges:"",recommendations:""}}}}};const Xa=(0,l.A)($a,[["render",Na]]);var Wa=Xa,Ga={components:{DocumentVersionCreationModal:Ma,DocumentCreationModal:$t,ReportDataModal:Wa,BreadcrumbComponent:ra},data(){return{showDocumentModal:!1,showVersionModal:!1,showReportModal:!1,editingReport:null}},computed:{...(0,M.L8)("collection",["activeDocument","reports","rootId"]),...(0,M.L8)("global",["loading"]),formattedUserAvatar(){const e={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||"/";return this.activeDocument.user?.avatar?`${e}storage/${this.activeDocument.user.avatar}`:`${e}storage/avatars/default-avatar.png`}},methods:{...(0,M.i0)("collection",["deleteDocument","fetchDocumentById","fetchReportsByDocumentId","deleteReport"]),...(0,M.i0)("document",["downloadDocument","downloadDocumentVersion","restoreDocumentVersion"]),async handleDownloadDocumentVersion(e){const t=this.activeDocument.id;await this.downloadDocumentVersion({documentId:t,versionId:e})},async handleRestoreDocumentVersion(e){const t=this.activeDocument.id;await this.restoreDocumentVersion({documentId:t,versionId:e})},async handleDownloadDocument(){const e=this.activeDocument.id;await this.downloadDocument(e)},confirmDelete(){confirm("Are you sure you want to delete this document? This action cannot be undone.")&&this.deleteDocument(this.activeDocument.id).then((()=>{this.$router.push({name:"Collection",params:{id:this.rootId}})})).catch((e=>{console.error("Error deleting the document:",e)}))},showEditReportModal(e){this.editingReport=e,this.showReportModal=!0},handleDeleteReport(e){confirm("Are you sure you want to delete this report?")&&this.deleteReport(e).then((()=>console.log("Report deleted successfully"))).catch((e=>console.error("Failed to delete report",e)))}},watch:{"$route.params.id":{async handler(e){await this.fetchDocumentById(e),await this.fetchReportsByDocumentId(e)},immediate:!0}}};const Ja=(0,l.A)(Ga,[["render",Va]]);var Ka=Ja,za=o.p+"img/empty_event.70839371.jpg";const qa={class:"event-page"},Ha={key:0,class:"empty-event"},Ya={key:1,class:"container mx-auto p-4"},Za={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"};function er(e,t,o,a,s,i){const n=(0,r.g2)("EventCard");return(0,r.uX)(),(0,r.CE)("div",qa,[0!==e.events.length||e.loading?((0,r.uX)(),(0,r.CE)("div",Ya,[(0,r.Lk)("div",Za,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.events,(e=>((0,r.uX)(),(0,r.Wv)(n,{key:e.id,title:e.name,description:e.description,startDate:e.start,endDate:e.end,tags:e.tags,location:e.location,poster:e.poster,user:e.user,onClick:t=>i.navigateToEvent(e)},null,8,["title","description","startDate","endDate","tags","location","poster","user","onClick"])))),128))])])):((0,r.uX)(),(0,r.CE)("div",Ha,t[0]||(t[0]=[(0,r.Lk)("img",{src:za,alt:"No Events",class:"empty-icon"},null,-1),(0,r.Lk)("p",{class:"empty-message"},"There are no events available at the moment. Start by creating a new event!",-1)])))])}const tr={class:"p-4 border rounded-md shadow-sm flex flex-col cursor-pointer transition-transform duration-300 transform hover:scale-105"},or={class:"mb-4"},ar=["src"],rr={class:"text-lg font-semibold mb-2"},sr={class:"text-sm text-gray-600 mb-2"},ir={class:"flex items-center mb-2"},nr={class:"text-sm"},lr={class:"text-sm"},cr={class:"mb-2"},dr=["onClick"],ur={class:"flex items-center mb-4"},mr={class:"text-sm"},pr={key:0,class:"flex items-center"},hr=["src"],gr={class:"text-sm font-medium"};function Ar(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon");return(0,r.uX)(),(0,r.CE)("div",tr,[(0,r.Lk)("div",or,[(0,r.Lk)("img",{src:i.formattedPoster,alt:"Event Poster",class:"w-full h-32 object-cover rounded-md"},null,8,ar)]),(0,r.Lk)("h3",rr,(0,m.v_)(o.title),1),(0,r.Lk)("p",sr,(0,m.v_)(i.shortDescription),1),(0,r.Lk)("div",ir,[(0,r.bF)(n,{icon:"calendar-day",class:"w-4 h-4 mr-1"}),(0,r.Lk)("p",nr,(0,m.v_)(o.startDate),1),t[0]||(t[0]=(0,r.Lk)("span",{class:"mx-2"},"-",-1)),(0,r.bF)(n,{icon:"calendar-day",class:"w-4 h-4 mr-1"}),(0,r.Lk)("p",lr,(0,m.v_)(o.endDate),1)]),(0,r.Lk)("div",cr,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.tags,(e=>((0,r.uX)(),(0,r.CE)("span",{key:e.id,onClick:t=>i.handleTagFilter(e.name,t),class:"inline-block px-3 py-1 mr-2 mb-2 text-sm bg-gray-700 text-white rounded-full"},(0,m.v_)(e.name),9,dr)))),128))]),(0,r.Lk)("div",ur,[(0,r.bF)(n,{icon:"map-marker-alt",class:"w-4 h-4 mr-2"}),(0,r.Lk)("p",mr,(0,m.v_)(o.location),1)]),o.user?((0,r.uX)(),(0,r.CE)("div",pr,[(0,r.Lk)("img",{src:i.formattedUserAvatar,alt:"User Avatar",class:"w-8 h-8 rounded-full mr-2"},null,8,hr),(0,r.Lk)("p",gr,(0,m.v_)(i.userFullName),1)])):(0,r.Q3)("",!0)])}var vr={name:"EventCard",components:{FontAwesomeIcon:De.gc},props:{title:String,description:String,startDate:String,endDate:String,tags:Array,location:String,poster:String,user:Object},computed:{shortDescription(){return this.description.length>100?this.description.substring(0,100)+"...":this.description},baseUrl(){return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||"/"},formattedPoster(){return this.poster?`${this.baseUrl}storage/${this.poster}`:`${this.baseUrl}storage/event_posters/default-poster.png`},formattedUserAvatar(){return this.user&&this.user.avatar?`${this.baseUrl}storage/${this.user.avatar}`:`${this.baseUrl}storage/avatars/default-avatar.png`},userFullName(){return this.user?`${this.user.first_name} ${this.user.last_name}`:""}},methods:{...(0,M.i0)("event",["fetchEvents"]),async handleTagFilter(e,t){t.stopPropagation(),"Event"===this.$route.name&&await this.fetchEvents({tag:e,search:""})}}};const br=(0,l.A)(vr,[["render",Ar]]);var Er=br,yr={name:"EventPage",components:{EventCard:Er},computed:{...(0,M.L8)("event",["events"]),...(0,M.L8)("global",["loading"])},methods:{...(0,M.i0)("event",["fetchEvents"]),navigateToEvent(e){this.$store.dispatch("event/setActiveEvent",e),this.$router.push({name:"EventDetail",params:{id:e.id}})}},mounted(){this.fetchEvents({tag:"",search:""})}};const fr=(0,l.A)(yr,[["render",er],["__scopeId","data-v-97cf4484"]]);var Cr=fr;const Rr={class:"p-6 flex flex-col"},wr={key:0,class:"bg-white shadow rounded-lg p-6 mb-6"},kr={class:"text-3xl font-bold mb-2"},Lr={class:"text-gray-700 mb-4"},_r={class:"flex items-center space-x-4 mb-6"},xr={class:"relative"},Sr=["src"],Ir={key:0},Dr={class:"text-lg font-semibold"},Tr={class:"text-sm text-gray-500"},Fr={class:"flex space-x-4 mb-6"},Or={class:"mb-4"},Pr={key:0},Vr=["href"],jr=["onClick"],Ur={key:1},Br={key:0},Mr={class:"flex justify-between items-center"},Qr={class:"font-medium"},Nr=["onClick"],$r=["onClick"],Xr={class:"text-gray-500 mt-2"},Wr={class:"mt-4"},Gr={key:0,class:"flex flex-wrap gap-4"},Jr=["href"],Kr=["src"],zr=["onClick"],qr={key:1},Hr=["onClick"],Yr={class:"mt-4"},Zr=["href"],es=["onClick"],ts={key:0},os=["onClick"],as={key:1};function rs(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("router-link"),c=(0,r.g2)("ReusableTable"),d=(0,r.g2)("FileUploader"),u=(0,r.g2)("EventCreationModal"),p=(0,r.g2)("EventOutcomeModal");return(0,r.uX)(),(0,r.CE)("div",Rr,[i.event?((0,r.uX)(),(0,r.CE)("div",wr,[(0,r.Lk)("h1",kr,(0,m.v_)(i.event.name),1),(0,r.Lk)("p",Lr,(0,m.v_)(i.event.description||"No description available"),1),(0,r.Lk)("div",_r,[(0,r.Lk)("div",xr,[(0,r.Lk)("img",{src:i.formattedEventPoster,alt:"Event Poster",class:"w-32 h-32 object-cover rounded-lg shadow-lg"},null,8,Sr),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.triggerPosterModal&&i.triggerPosterModal(...e)),class:"absolute bottom-0 right-0 p-2 w-10 h-10 bg-white rounded-full shadow-md"},[(0,r.bF)(n,{icon:"pen",class:"text-gray-600"})])]),i.event.user?((0,r.uX)(),(0,r.CE)("div",Ir,[(0,r.Lk)("p",Dr,[(0,r.bF)(l,{to:{name:"UserDetail",params:{id:i.event.user.id}}},{default:(0,r.k6)((()=>[(0,r.eW)((0,m.v_)(i.formatUserName(i.event.user)),1)])),_:1},8,["to"])]),(0,r.Lk)("p",Tr,(0,m.v_)(new Date(i.event.created_at).toLocaleDateString()),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Fr,[(0,r.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=e=>s.showEventModal=!0)},[(0,r.bF)(n,{icon:"edit",class:"mr-2"}),t[11]||(t[11]=(0,r.eW)(" Edit "))]),(0,r.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=(...e)=>i.confirmDelete&&i.confirmDelete(...e))},[(0,r.bF)(n,{icon:"trash",class:"mr-2"}),t[12]||(t[12]=(0,r.eW)(" Delete "))]),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.handleCreateEventOutcome&&i.handleCreateEventOutcome(...e)),class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[13]||(t[13]=(0,r.eW)(" Add Event Outcome "))])])])):(0,r.Q3)("",!0),(0,r.Lk)("section",Or,[t[16]||(t[16]=(0,r.Lk)("h2",{class:"text-xl font-semibold mb-2"},"Event Files",-1)),i.event.files&&i.event.files.length>0?((0,r.uX)(),(0,r.CE)("div",Pr,[(0,r.bF)(c,{labels:["File Name","File Type","Uploaded By","Date",""],headers:["file_name","file_type","user","created_at","Actions"],rows:i.event.files},{"cell-0":(0,r.k6)((({row:e})=>[(0,r.Lk)("a",{href:`${i.baseUrl}storage/${e.file_path}`,class:"text-blue-500 hover:underline",target:"_blank"},(0,m.v_)(e.file_name),9,Vr)])),"cell-2":(0,r.k6)((({row:e})=>[e.user?((0,r.uX)(),(0,r.Wv)(l,{key:0,to:{name:"UserDetail",params:{id:e.user.id}},class:"text-blue-500 hover:underline"},{default:(0,r.k6)((()=>[(0,r.eW)((0,m.v_)(i.formatUserName(e.user)),1)])),_:2},1032,["to"])):(0,r.Q3)("",!0)])),"cell-4":(0,r.k6)((({row:e})=>[(0,r.Lk)("button",{onClick:t=>i.handleRemoveEventFile(e.id),class:"text-red-500 hover:text-red-700"},[(0,r.bF)(n,{icon:"trash"})],8,jr)])),_:1},8,["rows"])])):((0,r.uX)(),(0,r.CE)("div",Ur,t[14]||(t[14]=[(0,r.Lk)("p",{class:"text-gray-500"},"No files have been added to this event yet.",-1)]))),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>i.handleAddFile&&i.handleAddFile(...e)),class:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[15]||(t[15]=(0,r.eW)(" Add File "))]),(0,r.bF)(d,{isVisible:s.showEventFileUploader,operationType:"eventFile",onClose:t[5]||(t[5]=e=>{s.showEventFileUploader=!1})},null,8,["isVisible"])]),(0,r.Lk)("section",null,[t[25]||(t[25]=(0,r.Lk)("h2",{class:"text-xl font-semibold mb-2"},"Event Outcomes",-1)),i.event.outcomes&&i.event.outcomes.length>0?((0,r.uX)(),(0,r.CE)("div",Br,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.event.outcomes,((e,o)=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"bg-white p-4 border rounded-lg shadow-md mb-4"},[(0,r.Lk)("div",Mr,[(0,r.Lk)("p",Qr,"#"+(0,m.v_)(o+1)+" : "+(0,m.v_)(e.description),1),(0,r.Lk)("div",null,[(0,r.Lk)("button",{onClick:t=>i.editOutcome(e.id),class:"text-blue-500 hover:text-blue-700 mr-2"},[(0,r.bF)(n,{icon:"edit"})],8,Nr),(0,r.Lk)("button",{onClick:t=>i.confirmOutcomeDelete(e.id),class:"text-red-500 hover:text-red-700"},[(0,r.bF)(n,{icon:"trash"})],8,$r)])]),(0,r.Lk)("p",Xr,[t[17]||(t[17]=(0,r.eW)(" Uploaded by ")),e.user?((0,r.uX)(),(0,r.Wv)(l,{key:0,to:{name:"UserDetail",params:{id:e.user.id}},class:"text-blue-500 hover:underline"},{default:(0,r.k6)((()=>[(0,r.eW)((0,m.v_)(i.formatUserName(e.user)),1)])),_:2},1032,["to"])):(0,r.Q3)("",!0),(0,r.eW)(" on "+(0,m.v_)(new Date(e.date).toLocaleDateString()),1)]),(0,r.Lk)("div",Wr,[t[20]||(t[20]=(0,r.Lk)("h3",{class:"text-lg font-semibold mb-4"},"Outcome Images",-1)),e.images&&e.images.length>0?((0,r.uX)(),(0,r.CE)("div",Gr,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.images,(t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:"relative group"},[(0,r.Lk)("a",{href:`${i.baseUrl}storage/${t.image_path}`,target:"_blank"},[(0,r.Lk)("img",{src:`${i.baseUrl}storage/${t.image_path}`,alt:"Outcome Image",class:"w-32 h-32 object-cover rounded-md"},null,8,Kr)],8,Jr),(0,r.Lk)("button",{onClick:o=>i.handleRemoveOutcomeImage(e.id,t.id),class:"absolute bottom-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200"},[(0,r.bF)(n,{icon:"trash"})],8,zr)])))),128))])):((0,r.uX)(),(0,r.CE)("div",qr,t[18]||(t[18]=[(0,r.Lk)("p",{class:"text-gray-500"},"No images available for this outcome.",-1)]))),(0,r.Lk)("button",{onClick:t=>i.handleAddOutcomeImage(e.id),class:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[19]||(t[19]=(0,r.eW)(" Add Image "))],8,Hr)]),(0,r.Lk)("div",Yr,[t[23]||(t[23]=(0,r.Lk)("h3",{class:"text-lg font-semibold"},"Outcome Files",-1)),(0,r.bF)(c,{labels:["File Name","Type","Uploaded By","Date Uploaded","Actions"],headers:["file_name","file_type","user","created_at",""],rows:e.files||[]},{"cell-0":(0,r.k6)((({row:e})=>[(0,r.Lk)("a",{href:`${i.baseUrl}storage/${e.file_path}`,class:"text-blue-500 hover:underline",target:"_blank"},(0,m.v_)(e.file_name),9,Zr)])),"cell-2":(0,r.k6)((({row:e})=>[e.user?((0,r.uX)(),(0,r.Wv)(l,{key:0,to:{name:"UserDetail",params:{id:e.user.id}},class:"text-blue-500 hover:underline"},{default:(0,r.k6)((()=>[(0,r.eW)((0,m.v_)(i.formatUserName(e.user)),1)])),_:2},1032,["to"])):(0,r.Q3)("",!0)])),"cell-4":(0,r.k6)((({row:t})=>[(0,r.Lk)("button",{onClick:o=>i.handleRemoveOutcomeFile(e.id,t.id),class:"text-red-500 hover:text-red-700"},[(0,r.bF)(n,{icon:"trash"})],8,es)])),_:2},1032,["rows"]),e.files&&0!==e.files.length?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",ts,t[21]||(t[21]=[(0,r.Lk)("p",{class:"text-gray-500"},"No files available for this outcome.",-1)]))),(0,r.Lk)("button",{onClick:t=>i.handleAddOutcomeFile(e.id),class:"mt-4 bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center"},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[22]||(t[22]=(0,r.eW)(" Add File "))],8,os)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",as,t[24]||(t[24]=[(0,r.Lk)("p",{class:"text-gray-500"},"No outcomes have been added to this event yet.",-1)])))]),(0,r.bF)(u,{isVisible:s.showEventModal,id:e.$route.params.id,onClose:t[6]||(t[6]=e=>s.showEventModal=!1)},null,8,["isVisible","id"]),(0,r.bF)(p,{isVisible:s.showEditOutcomeModal,id:s.theOutcomeId,onClose:t[7]||(t[7]=e=>s.showEditOutcomeModal=!1)},null,8,["isVisible","id"]),(0,r.bF)(p,{isVisible:s.showOutcomeModal,onClose:t[8]||(t[8]=e=>s.showOutcomeModal=!1)},null,8,["isVisible"]),(0,r.bF)(d,{isVisible:s.showOutcomeFileUploader,operationType:"outcomeFile",id:s.theOutcomeId,onClose:t[9]||(t[9]=e=>{s.showOutcomeFileUploader=!1})},null,8,["isVisible","id"]),(0,r.bF)(d,{isVisible:s.showOutcomeImageUploader,operationType:"outcomeImage",id:s.theOutcomeId,onClose:t[10]||(t[10]=e=>s.showOutcomeImageUploader=!1)},null,8,["isVisible","id"])])}const ss={class:"overflow-x-auto"},is={class:"min-w-full bg-white border border-gray-200"};function ns(e,t,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",ss,[(0,r.Lk)("table",is,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.labels,((e,t)=>((0,r.uX)(),(0,r.CE)("th",{key:t,class:"px-4 py-2 border-b bg-gray-100 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},(0,m.v_)(e),1)))),128))])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.rows,((t,a)=>((0,r.uX)(),(0,r.CE)("tr",{key:a,class:"hover:bg-gray-50"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(o.headers,((o,a)=>((0,r.uX)(),(0,r.CE)("td",{key:a,class:"px-4 py-2 border-b text-sm text-gray-700"},[(0,r.RG)(e.$slots,"cell-"+a,{row:t},(()=>[(0,r.eW)((0,m.v_)(t[o]),1)]))])))),128))])))),128))])])])])}var ls={name:"ReusableTable",props:{labels:{type:Array,required:!0},headers:{type:Array,required:!0},rows:{type:Array,required:!0}}};const cs=(0,l.A)(ls,[["render",ns]]);var ds=cs;function us(e,t,o,a,s,i){const n=(0,r.g2)("CustomFileInput"),l=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(l,{isVisible:o.isVisible,onClose:i.close},{header:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Upload File ",-1)]))),body:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:s.file,"onUpdate:modelValue":t[0]||(t[0]=e=>s.file=e),label:s.label,accept:s.accept,error:s.error,onNewFile:i.handleFileInput},null,8,["modelValue","label","accept","error","onNewFile"])])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.submitFile&&i.submitFile(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Upload ")])),_:1},8,["isVisible","onClose"])}var ms={components:{ModalLayout:ut,CustomFileInput:Tt},props:{isVisible:{type:Boolean,default:!1},operationType:{type:String,required:!0},id:{type:Number,required:!1}},computed:(0,M.L8)("event",["activeEvent"]),data(){return{file:null,label:"Upload File",accept:"*/*",error:""}},methods:{...(0,M.i0)("event",["uploadEventFile"]),...(0,M.i0)("eventOutcome",["uploadOutcomeFile","uploadOutcomeImage"]),async submitFile(){if(!this.file)return this.error="Please select a file.",void console.log(this.file);this.error="";try{switch(this.operationType){case"eventFile":await this.handleEventFileUpload();break;case"outcomeFile":await this.handleOutcomeFileUpload();break;case"outcomeImage":await this.handleOutcomeImageUpload();break;default:throw new Error("Invalid operation type")}this.$emit("close")}catch(e){console.error("Upload failed:",e),this.error="Upload failed. Please try again."}},async handleEventFileUpload(){if(!this.activeEvent||!this.activeEvent.id)throw new Error("Active event is not available.");const e=new FormData;e.append("file",this.file),await this.uploadEventFile(e)},async handleOutcomeFileUpload(){if(!this.activeEvent||!this.activeEvent.id)throw new Error("Active event is not available.");const e=new FormData;e.append("file",this.file),await this.uploadOutcomeFile({outcomeId:this.id,formData:e})},async handleOutcomeImageUpload(){if(!this.activeEvent||!this.activeEvent.id)throw new Error("Active event is not available.");const e=new FormData;e.append("image",this.file),console.log(this.id),await this.uploadOutcomeImage({outcomeId:this.id,formData:e})},close(){this.file=null,this.$emit("close")},handleFileInput(e){this.file=e}}};const ps=(0,l.A)(ms,[["render",us]]);var hs=ps,gs={components:{ReusableTable:ds,EventCreationModal:Yt,FileUploader:hs,EventOutcomeModal:ao},data(){return{showEventModal:!1,showPosterModal:!1,selectedOutcomeId:null,showEventFileUploader:!1,showOutcomeFileUploader:!1,showEditOutcomeModal:!1,showOutcomeModal:!1,showOutcomeImageUploader:!1,theOutcomeId:""}},computed:{...(0,M.L8)("event",["activeEvent"]),event(){return this.activeEvent},baseUrl(){return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||"/"},formattedEventPoster(){return this.event.poster?`${this.baseUrl}storage/${this.event.poster}`:`${this.baseUrl}storage/event_posters/default-poster.png`}},methods:{...(0,M.i0)("event",["fetchEventById","deleteEvent","removeEventFile"]),...(0,M.i0)("eventOutcome",["deleteEventOutcome"]),async confirmDelete(){confirm("Are you sure you want to delete this event?")&&(await this.deleteEvent(this.$route.params.id),this.$router.push({name:"Event"}))},async handleRemoveEventFile(e){confirm("Are you sure you want to remove this file?")&&await this.removeEventFile(e)},async handleRemoveFile(e){confirm("Are you sure you want to remove this file?")&&(await this.$store.dispatch("event/deleteEventFile",e),this.fetchEventById(this.$route.params.id))},async handleAddFile(){this.showEventFileUploader=!0},async handleRemoveOutcomeImage(e,t){confirm("Are you sure you want to remove this image?")&&await this.$store.dispatch("eventOutcome/removeOutcomeImage",{outcomeId:e,imageId:t})},async handleAddOutcomeImage(e){this.theOutcomeId=e,this.showOutcomeImageUploader=!0},async handleRemoveOutcomeFile(e,t){confirm("Are you sure you want to remove this file?")&&await this.$store.dispatch("eventOutcome/removeOutcomeFile",{outcomeId:e,fileId:t})},async handleAddOutcomeFile(e){this.theOutcomeId=e,this.showOutcomeFileUploader=!0},triggerPosterModal(){this.showPosterModal=!0},editOutcome(e){this.theOutcomeId=e,this.showEditOutcomeModal=!0},async confirmOutcomeDelete(e){confirm("Are you sure you want to delete this outcome?")&&await this.deleteEventOutcome(e)},formatUserName(e){return`${e.first_name} ${e.middle_name?`${e.middle_name} `:""}${e.last_name}`},handleCreateEventOutcome(){this.showOutcomeModal=!0}},async created(){await this.fetchEventById(this.$route.params.id)},watch:{"$route.params.id":{handler(e){this.fetchEventById(e)},immediate:!0}}};const As=(0,l.A)(gs,[["render",rs]]);var vs=As;const bs={class:"p-4"},Es={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},ys={class:"py-2 px-4 border-b text-left"},fs={class:"py-2 px-4 border-b text-left"},Cs={class:"py-2 px-4 border-b text-left"},Rs={class:"py-2 px-4 border-b text-left"},ws={key:0,class:"flex items-center"},ks=["src"],Ls={class:"text-sm font-medium"},_s={key:1,class:"text-sm text-gray-500"},xs={class:"py-2 px-4 border-b text-center"},Ss=["onClick"],Is=["onClick"];function Ds(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("TagCreationModal");return(0,r.uX)(),(0,r.CE)("div",bs,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Tags",-1)),(0,r.Lk)("table",Es,[t[1]||(t[1]=(0,r.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Name"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Created"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"By"),(0,r.Lk)("th",{class:"py-3 px-4 border-b"})])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.tags,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",ys,(0,m.v_)(t+1),1),(0,r.Lk)("td",fs,(0,m.v_)(e.name),1),(0,r.Lk)("td",Cs,(0,m.v_)(i.formatDate(e.created_at)),1),(0,r.Lk)("td",Rs,[e.user?((0,r.uX)(),(0,r.CE)("div",ws,[(0,r.Lk)("img",{src:i.formattedUserAvatar(e.user),alt:"User Avatar",class:"w-8 h-8 rounded-full mr-2"},null,8,ks),(0,r.Lk)("p",Ls,(0,m.v_)(i.userFullName(e.user)),1)])):((0,r.uX)(),(0,r.CE)("p",_s,"Unknown"))]),(0,r.Lk)("td",xs,[(0,r.Lk)("button",{onClick:t=>i.editTag(e),class:"text-blue-500 hover:text-blue-700 mr-4","aria-label":"Edit Tag"},[(0,r.bF)(n,{icon:"pen"})],8,Ss),(0,r.Lk)("button",{onClick:t=>i.confirmDelete(e),class:"text-red-500 hover:text-red-700","aria-label":"Delete Tag"},[(0,r.bF)(n,{icon:"trash"})],8,Is)])])))),128))])]),(0,r.bF)(l,{isVisible:s.showTagModal,id:s.selectedTagId,onClose:t[0]||(t[0]=e=>s.showTagModal=!1)},null,8,["isVisible","id"])])}var Ts={components:{TagCreationModal:lo},data(){return{selectedTagId:"",showTagModal:!1}},computed:{...(0,M.L8)("tag",["tags"]),baseUrl(){return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||""}},async mounted(){await this.fetchTags({name:""})},methods:{...(0,M.i0)("tag",["fetchTags","deleteTag"]),formatDate(e){return new Date(e).toLocaleDateString()},formattedUserAvatar(e){return e&&e.avatar?`${this.baseUrl}storage/${e.avatar}`:`${this.baseUrl}storage/avatars/default-avatar.png`},userFullName(e){return`${e.first_name||""} ${e.last_name||""}`},editTag(e){this.selectedTagId=e.id,this.showTagModal=!0},confirmDelete(e){confirm(`Are you sure you want to delete tag "${e.name}"?`)&&this.deleteTag(e.id)}}};const Fs=(0,l.A)(Ts,[["render",Ds],["__scopeId","data-v-23520b71"]]);var Os=Fs;const Ps={class:"p-6 max-w-3xl mx-auto"},Vs={key:0,class:"flex items-center mb-8"},js={class:"relative"},Us=["src"],Bs={class:"ml-4"},Ms={class:"text-2xl font-semibold"},Qs={class:"text-gray-600"},Ns={class:"text-gray-600"},$s={key:1,class:"space-y-4"},Xs={class:"flex items-center"},Ws={class:"text-gray-600"},Gs={class:"flex items-center"},Js={class:"text-gray-600"};function Ks(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("EditUserModal");return(0,r.uX)(),(0,r.CE)("div",Ps,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"text-3xl font-bold mb-6"},"Profile",-1)),s.user?((0,r.uX)(),(0,r.CE)("div",Vs,[(0,r.Lk)("div",js,[(0,r.Lk)("img",{src:i.formattedUserAvatar,alt:"User Avatar",class:"w-32 h-32 rounded-full object-cover shadow-lg"},null,8,Us),i.isOwnProfile?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.triggerAvatarModal&&i.triggerAvatarModal(...e)),class:"absolute bottom-0 right-0 p-2 w-10 h-10 bg-white rounded-full shadow-md"},[(0,r.bF)(n,{icon:"pen",class:"text-gray-600"})])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Bs,[(0,r.Lk)("h2",Ms,(0,m.v_)(i.fullName),1),(0,r.Lk)("p",Qs,(0,m.v_)(s.user.email),1),(0,r.Lk)("p",Ns,(0,m.v_)(s.user.phone),1)])])):(0,r.Q3)("",!0),s.user?((0,r.uX)(),(0,r.CE)("div",$s,[(0,r.Lk)("div",Xs,[(0,r.bF)(n,{icon:"phone",class:"w-6 h-6 text-gray-600 mr-2"}),(0,r.Lk)("p",Ws,(0,m.v_)(s.user.phone),1)]),(0,r.Lk)("div",Gs,[(0,r.bF)(n,{icon:"envelope",class:"w-6 h-6 text-gray-600 mr-2"}),(0,r.Lk)("p",Js,(0,m.v_)(s.user.email),1)])])):(0,r.Q3)("",!0),i.isOwnProfile?((0,r.uX)(),(0,r.CE)("button",{key:2,onClick:t[1]||(t[1]=(...e)=>i.triggerEditModal&&i.triggerEditModal(...e)),class:"mt-6 px-4 py-2 bg-blue-500 text-white rounded shadow-md hover:bg-blue-600"}," Edit Details ")):(0,r.Q3)("",!0),s.showEditModal?((0,r.uX)(),(0,r.Wv)(l,{key:3,isVisible:s.showEditModal,id:s.user.id,onClose:i.closeEditModal},null,8,["isVisible","id","onClose"])):(0,r.Q3)("",!0)])}var zs=o(4335);const qs=zs.A.create({baseURL:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE_URL,headers:{"Content-Type":"application/json"},withCredentials:!0});qs.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),qs.interceptors.response.use((e=>e),(e=>(e.response&&e.response.status,Promise.reject(e))));var Hs=qs;function Ys(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"}," Edit User ",-1)]))),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[5]||(t[5]=(0,a.D$)(((...e)=>n.updateUserData&&n.updateUserData(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.userData.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.userData.first_name=e),prompt:"First Name",error:e.errors.first_name?e.errors.first_name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.userData.middle_name,"onUpdate:modelValue":t[1]||(t[1]=e=>i.userData.middle_name=e),prompt:"Middle Name",error:e.errors.middle_name?e.errors.middle_name.join(" "):""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.userData.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>i.userData.last_name=e),prompt:"Last Name",error:e.errors.last_name?e.errors.last_name.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.userData.email,"onUpdate:modelValue":t[3]||(t[3]=e=>i.userData.email=e),type:"email",prompt:"Email",error:e.errors.email?e.errors.email.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.userData.phone,"onUpdate:modelValue":t[4]||(t[4]=e=>i.userData.phone=e),prompt:"Phone",error:e.errors.phone?e.errors.phone.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>n.updateUserData&&n.updateUserData(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Update ")])),_:1},8,["isVisible","onClose"])}var Zs={components:{ModalLayout:ut,CustomInput:S},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],required:!0}},data(){return{userData:{first_name:"",middle_name:"",last_name:"",email:"",phone:""}}},computed:{...(0,M.L8)("user",["errors","currentUser"]),hasErrors(){return Object.keys(this.errors).length>0}},methods:{...(0,M.i0)("user",["updateUser","setErrors","fetchUserById"]),async updateUserData(){try{await this.updateUser({id:this.id,...this.userData}),this.hasErrors||this.close()}catch(e){console.error("Error updating user:",e)}},reset(){this.userData={first_name:"",middle_name:"",last_name:"",email:"",phone:""};const e={};this.setErrors(e)},close(){this.reset(),this.$emit("close")}},watch:{id:{immediate:!0,async handler(e){e&&(await this.fetchUserById(e),this.userData={first_name:this.currentUser.first_name||"",middle_name:this.currentUser.middle_name||"",last_name:this.currentUser.last_name||"",email:this.currentUser.email||"",phone:this.currentUser.phone||""})}}}};const ei=(0,l.A)(Zs,[["render",Ys]]);var ti=ei,oi={components:{EditUserModal:ti},data(){return{user:null,showAvatarModal:!1,showEditModal:!1,editUser:{first_name:"",middle_name:"",last_name:"",phone:""},defaultAvatar:`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL}/storage/avatars/default-avatar.png`}},computed:{...(0,M.L8)("global",["loading"]),...(0,M.L8)("user",["currentUser"]),baseUrl(){return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||""},fullName(){if(!this.user)return"";const{first_name:e,middle_name:t,last_name:o}=this.user;return[e,t,o].filter(Boolean).join(" ")},formattedUserAvatar(){return this.user&&this.user.avatar?`${this.baseUrl}storage/${this.user.avatar}`:`${this.baseUrl}storage/avatars/default-avatar.png`},isOwnProfile(){return!this.$route.params.id}},watch:{"$route.params.id":"fetchUser"},async created(){await this.fetchUser()},methods:{...(0,M.i0)("global",["setLoading"]),async fetchUser(){const e=this.$route.params.id?this.$route.params.id:"profile";try{this.setLoading(!0);const t=await Hs.get(`/users/${e}`);this.user=t.data,this.editUser={first_name:this.user.first_name,middle_name:this.user.middle_name||"",last_name:this.user.last_name,phone:this.user.phone}}catch(t){console.error("Failed to fetch user details:",t),this.user=null}finally{this.setLoading(!1)}},triggerAvatarModal(){this.showAvatarModal=!0},triggerEditModal(){this.showEditModal=!0},async closeEditModal(){this.showEditModal=!1,await this.fetchUser()}}};const ai=(0,l.A)(oi,[["render",Ks]]);var ri=ai;const si={class:"p-4"},ii={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},ni=["onClick"],li={class:"py-2 px-4 border-b text-left"},ci={class:"py-2 px-4 border-b text-left"},di={class:"py-2 px-4 border-b text-left"},ui={class:"py-2 px-4 border-b text-center"},mi=["onClick"],pi=["onClick"];function hi(e,t,o,s,i,n){const l=(0,r.g2)("font-awesome-icon"),c=(0,r.g2)("RoleCreationModal");return(0,r.uX)(),(0,r.CE)("div",si,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Roles",-1)),(0,r.Lk)("table",ii,[t[1]||(t[1]=(0,r.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Name"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Created"),(0,r.Lk)("th",{class:"py-3 px-4 border-b"})])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.roles,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,onClick:t=>n.viewRoleDetails(e.id),class:"cursor-pointer hover:bg-gray-100"},[(0,r.Lk)("td",li,(0,m.v_)(t+1),1),(0,r.Lk)("td",ci,(0,m.v_)(e.name),1),(0,r.Lk)("td",di,(0,m.v_)(n.formatDate(e.created_at)),1),(0,r.Lk)("td",ui,[(0,r.Lk)("button",{onClick:(0,a.D$)((t=>n.editRole(e)),["stop"]),class:"text-blue-500 hover:text-blue-700 mr-4","aria-label":"Edit Role"},[(0,r.bF)(l,{icon:"pen"})],8,mi),(0,r.Lk)("button",{onClick:(0,a.D$)((t=>n.confirmDelete(e)),["stop"]),class:"text-red-500 hover:text-red-700","aria-label":"Delete Role"},[(0,r.bF)(l,{icon:"trash"})],8,pi)])],8,ni)))),128))])]),(0,r.bF)(c,{isVisible:i.showRoleModal,id:i.selectedRoleId,onClose:t[0]||(t[0]=e=>i.showRoleModal=!1)},null,8,["isVisible","id"])])}var gi={components:{RoleCreationModal:ho},data(){return{selectedRoleId:"",showRoleModal:!1}},computed:{...(0,M.L8)("role",["roles"]),baseUrl(){return{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL||""}},async mounted(){await this.fetchRoles()},methods:{...(0,M.i0)("role",["fetchRoles","deleteRole"]),formatDate(e){return new Date(e).toLocaleDateString()},editRole(e){this.selectedRoleId=e.id,this.showRoleModal=!0},confirmDelete(e){confirm(`Are you sure you want to delete role "${e.name}"?`)&&this.deleteRole(e.id)},viewRoleDetails(e){this.$router.push({name:"RoleDetail",params:{id:e}})}}};const Ai=(0,l.A)(gi,[["render",hi]]);var vi=Ai;const bi={class:"p-6 flex flex-col"},Ei={key:0,class:"bg-white shadow rounded-lg p-6 mb-6"},yi={class:"text-3xl font-medium mb-4"},fi={class:"flex space-x-4 mb-6"},Ci={key:1,class:"bg-white shadow rounded-lg p-6"},Ri={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},wi={class:"py-2 px-4 border-b text-left"},ki={class:"py-2 px-4 border-b text-left"},Li={class:"py-2 px-4 border-b text-left"},_i={class:"py-2 px-4 border-b text-center"},xi=["onClick"],Si={key:2,class:"bg-white shadow rounded-lg p-6"};function Ii(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("RoleCreationModal"),c=(0,r.g2)("PermissionCreationModal");return(0,r.uX)(),(0,r.CE)("div",bi,[e.activeRole?((0,r.uX)(),(0,r.CE)("div",Ei,[(0,r.Lk)("h1",yi,(0,m.v_)(e.activeRole.name),1),(0,r.Lk)("div",fi,[(0,r.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[0]||(t[0]=(...e)=>i.editRole&&i.editRole(...e))},[(0,r.bF)(n,{icon:"edit",class:"mr-2"}),t[3]||(t[3]=(0,r.eW)(" Edit Role "))]),(0,r.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=(...e)=>i.confirmDeleteRole&&i.confirmDeleteRole(...e))},[(0,r.bF)(n,{icon:"trash",class:"mr-2"}),t[4]||(t[4]=(0,r.eW)(" Delete Role "))]),(0,r.Lk)("button",{class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=e=>s.showPermissionModal=!0)},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[5]||(t[5]=(0,r.eW)(" Add Permission "))])])])):(0,r.Q3)("",!0),e.activeRole&&e.activeRole.permissions&&e.activeRole.permissions.length?((0,r.uX)(),(0,r.CE)("div",Ci,[t[7]||(t[7]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-4"},"Permissions",-1)),(0,r.Lk)("table",Ri,[t[6]||(t[6]=(0,r.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Action"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Entity"),(0,r.Lk)("th",{class:"py-3 px-4 border-b"})])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activeRole.permissions,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",wi,(0,m.v_)(t+1),1),(0,r.Lk)("td",ki,(0,m.v_)(e.action.name),1),(0,r.Lk)("td",Li,(0,m.v_)(e.entity.name),1),(0,r.Lk)("td",_i,[(0,r.Lk)("button",{onClick:t=>i.confirmDeletePermission(e),class:"text-red-500 hover:text-red-700","aria-label":"Delete Permission"},[(0,r.bF)(n,{icon:"trash"})],8,xi)])])))),128))])])])):(0,r.Q3)("",!0),e.activeRole&&e.activeRole.permissions&&!e.activeRole.permissions.length?((0,r.uX)(),(0,r.CE)("div",Si,t[8]||(t[8]=[(0,r.Lk)("p",{class:"font-medium"},"No permissions available for this role.",-1)]))):(0,r.Q3)("",!0),(0,r.bF)(l,{isVisible:s.showRoleModal,id:e.$route.params.id,onClose:i.handleCreationModalClose},null,8,["isVisible","id","onClose"]),(0,r.bF)(c,{role:e.activeRole||{},isVisible:s.showPermissionModal,onClose:i.handlePermissionModalClose},null,8,["role","isVisible","onClose"])])}const Di={class:"text-2xl font-bold mb-4"},Ti={class:"mb-4"},Fi=["value"],Oi={class:"mb-4"},Pi=["value"],Vi={class:"flex space-x-4"};function ji(e,t,o,s,i,n){const l=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(l,{isVisible:o.isVisible,onClose:n.handleClose},{header:(0,r.k6)((()=>[(0,r.Lk)("h2",Di,"Create Permission for "+(0,m.v_)(e.activeRole?.name),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("div",Ti,[t[4]||(t[4]=(0,r.Lk)("label",{for:"action",class:"block text-sm font-medium text-gray-700"},"Action",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedAction=e),id:"action",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm p-3"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.actions,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,Fi)))),128))],512),[[a.u1,i.selectedAction]])]),(0,r.Lk)("div",Oi,[t[5]||(t[5]=(0,r.Lk)("label",{for:"entity",class:"block text-sm font-medium text-gray-700"},"Entity",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.selectedEntity=e),id:"entity",class:"mt-1 block w-full border-gray-500 rounded-md shadow-sm p-3"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.entities,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,Pi)))),128))],512),[[a.u1,i.selectedEntity]])])])),footer:(0,r.k6)((()=>[(0,r.Lk)("div",Vi,[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitPermission&&n.submitPermission(...e)),class:"bg-blue-500 text-white px-4 py-2 rounded-lg"}," Save "),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.handleClose&&n.handleClose(...e)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg"}," Cancel ")])])),_:1},8,["isVisible","onClose"])}var Ui={computed:(0,M.L8)("role",["activeRole"]),components:{ModalLayout:ut},props:{isVisible:{type:Boolean,required:!0}},data(){return{actions:[],entities:[],selectedAction:null,selectedEntity:null}},async mounted(){await this.fetchActions(),await this.fetchEntities()},methods:{...(0,M.i0)("permission",["createPermission"]),async fetchActions(){try{const e=await Hs.get("/actions");this.actions=e.data}catch(e){console.error("Failed to fetch actions:",e)}},async fetchEntities(){try{const e=await Hs.get("/entities");this.entities=e.data}catch(e){console.error("Failed to fetch entities:",e)}},async submitPermission(){const e={action_id:this.selectedAction,entity_id:this.selectedEntity,role_id:this.activeRole.id};await this.createPermission(e),this.$emit("close")},handleClose(){this.$emit("close")}}};const Bi=(0,l.A)(Ui,[["render",ji],["__scopeId","data-v-7252e426"]]);var Mi=Bi,Qi={components:{RoleCreationModal:ho,PermissionCreationModal:Mi},data(){return{showRoleModal:!1,showPermissionModal:!1}},computed:{...(0,M.L8)("role",["activeRole"])},methods:{...(0,M.i0)("role",["fetchRoleById","deleteRole"]),...(0,M.i0)("permission",["deletePermission"]),async confirmDeleteRole(){if(confirm("Are you sure you want to delete this role? This action cannot be undone."))try{await this.deleteRole(this.$route.params.id),this.$router.push({name:"Role"})}catch(e){console.error("Error deleting the role:",e)}},editRole(){this.showRoleModal=!0},editPermission(e){console.log(e)},async confirmDeletePermission(e){confirm(`Sure you want to delete the permission "${e.action.name}-${e.entity.name}"?`)&&(await this.deletePermission(e.id),this.fetchRoleById(this.$route.params.id))},handlePermissionModalClose(){this.showPermissionModal=!1,this.fetchRoleById(this.$route.params.id)},handleCreationModalClose(){this.showRoleModal=!1,this.fetchRoleById(this.$route.params.id)}},async mounted(){const e=this.$route.params.id;try{await this.fetchRoleById(e)}catch(t){console.error("Error fetching role by ID:",t)}},watch:{"$route.params.id":{immediate:!0,handler(e){this.fetchRoleById(e)}}}};const Ni=(0,l.A)(Qi,[["render",Ii]]);var $i=Ni;const Xi={class:"p-4"},Wi={class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},Gi=["onClick"],Ji={class:"py-2 px-4 border-b text-left"},Ki={class:"py-2 px-4 border-b text-left"},zi={class:"py-2 px-4 border-b text-left"},qi={class:"py-2 px-4 border-b text-left"},Hi={class:"py-2 px-4 border-b text-left"},Yi={class:"py-2 px-4 border-b text-left"},Zi={class:"py-2 px-4 border-b text-center"},en=["onClick"],tn=["onClick"];function on(e,t,o,s,i,n){const l=(0,r.g2)("font-awesome-icon"),c=(0,r.g2)("CreateProjectModal"),d=(0,r.g2)("PaginatorComp");return(0,r.uX)(),(0,r.CE)("div",Xi,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Projects",-1)),(0,r.Lk)("table",Wi,[t[1]||(t[1]=(0,r.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Title"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Description"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Start Date"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"End Date"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Audience"),(0,r.Lk)("th",{class:"py-3 px-4 border-b"})])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.projects,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,onClick:t=>n.viewProject(e.id),class:"cursor-pointer"},[(0,r.Lk)("td",Ji,(0,m.v_)(e.id),1),(0,r.Lk)("td",Ki,(0,m.v_)(e.title),1),(0,r.Lk)("td",zi,(0,m.v_)(e.description.length>50?e.description.substring(0,50)+"...":e.description),1),(0,r.Lk)("td",qi,(0,m.v_)(n.formatDate(e.start_date)),1),(0,r.Lk)("td",Hi,(0,m.v_)(n.formatDate(e.end_date)),1),(0,r.Lk)("td",Yi,(0,m.v_)(e.audience.name),1),(0,r.Lk)("td",Zi,[(0,r.Lk)("button",{onClick:(0,a.D$)((t=>n.editProject(e)),["stop"]),class:"text-blue-500 hover:text-blue-700 mr-4","aria-label":"Edit Project"},[(0,r.bF)(l,{icon:"pen"})],8,en),(0,r.Lk)("button",{onClick:(0,a.D$)((t=>n.confirmDelete(e)),["stop"]),class:"text-red-500 hover:text-red-700","aria-label":"Delete Project"},[(0,r.bF)(l,{icon:"trash"})],8,tn)])],8,Gi)))),128))])]),i.showProjectModal?((0,r.uX)(),(0,r.Wv)(c,{key:0,isVisible:i.showProjectModal,id:i.selectedProjectId,onClose:t[0]||(t[0]=e=>i.showProjectModal=!1)},null,8,["isVisible","id"])):(0,r.Q3)("",!0),(0,r.bF)(d,{pagination:e.pagination,onPageChanged:e.fetchProjects},null,8,["pagination","onPageChanged"])])}const an={class:"pagination flex items-center justify-center space-x-4 mt-4"},rn=["disabled"],sn={class:"text-gray-700 font-medium"},nn=["disabled"];function ln(e,t,o,a,s,i){return(0,r.uX)(),(0,r.CE)("div",an,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>i.changePage(o.pagination.currentPage-1)),disabled:1===o.pagination.currentPage,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Previous ",8,rn),(0,r.Lk)("span",sn," Page "+(0,m.v_)(o.pagination.currentPage)+" of "+(0,m.v_)(o.pagination.lastPage),1),(0,r.Lk)("button",{onClick:t[1]||(t[1]=e=>i.changePage(o.pagination.currentPage+1)),disabled:o.pagination.currentPage===o.pagination.lastPage,class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed"}," Next ",8,nn)])}var cn={props:{pagination:{type:Object,required:!0}},methods:{changePage(e){this.$emit("page-changed",e)}}};const dn=(0,l.A)(cn,[["render",ln]]);var un=dn,mn={components:{CreateProjectModal:fo,PaginatorComp:un},data(){return{selectedProjectId:"",showProjectModal:!1}},computed:{...(0,M.L8)("project",["projects","pagination"])},async created(){await this.fetchProjects(1)},methods:{...(0,M.i0)("project",["fetchProjects","deleteProject"]),formatDate(e){return new Date(e).toLocaleDateString()},editProject(e){this.selectedProjectId=e.id,this.showProjectModal=!0},confirmDelete(e){confirm(`Are you sure you want to delete project "${e.title}"?`)&&this.deleteProject(e.id)},viewProject(e){this.$router.push({name:"ProjectDetail",params:{id:e}})}}};const pn=(0,l.A)(mn,[["render",on],["__scopeId","data-v-68a592ae"]]);var hn=pn;const gn={class:"p-4"},An={key:0,class:"py-3"},vn={key:1,class:"min-w-full bg-white border border-gray-300 rounded-md shadow-md"},bn={key:0},En={class:"py-2 px-4 border-b text-left"},yn={class:"py-2 px-4 border-b text-left"},fn={class:"py-2 px-4 border-b text-left"},Cn={class:"py-2 px-4 border-b text-center"},Rn=["onClick"],wn=["onClick"];function kn(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("CreateAudienceModal");return(0,r.uX)(),(0,r.CE)("div",gn,[t[2]||(t[2]=(0,r.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Audiences",-1)),i.hasAudiences?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",An,"No records found")),i.hasAudiences?((0,r.uX)(),(0,r.CE)("table",vn,[t[1]||(t[1]=(0,r.Lk)("thead",{class:"bg-gray-200 text-gray-700"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"#"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Name"),(0,r.Lk)("th",{class:"py-3 px-4 border-b text-left"},"Created"),(0,r.Lk)("th",{class:"py-3 px-4 border-b"})])],-1)),e.audiences?((0,r.uX)(),(0,r.CE)("tbody",bn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.audiences,((e,t)=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id},[(0,r.Lk)("td",En,(0,m.v_)(t+1),1),(0,r.Lk)("td",yn,(0,m.v_)(e.name),1),(0,r.Lk)("td",fn,(0,m.v_)(i.formatDate(e.created_at)),1),(0,r.Lk)("td",Cn,[(0,r.Lk)("button",{onClick:t=>i.editAudience(e),class:"text-blue-500 hover:text-blue-700 mr-4","aria-label":"Edit Audience"},[(0,r.bF)(n,{icon:"pen"})],8,Rn),(0,r.Lk)("button",{onClick:t=>i.confirmDelete(e),class:"text-red-500 hover:text-red-700","aria-label":"Delete Audience"},[(0,r.bF)(n,{icon:"trash"})],8,wn)])])))),128))])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),s.showAudienceModal?((0,r.uX)(),(0,r.Wv)(l,{key:2,isVisible:s.showAudienceModal,id:s.selectedAudienceId,onClose:t[0]||(t[0]=e=>s.showAudienceModal=!1)},null,8,["isVisible","id"])):(0,r.Q3)("",!0)])}var Ln={components:{CreateAudienceModal:Lo},data(){return{selectedAudienceId:"",showAudienceModal:!1}},computed:{...(0,M.L8)("audience",["audiences"]),hasAudiences(){return this.audiences&&this.audiences.length>0}},async mounted(){await this.fetchAudiences()},methods:{...(0,M.i0)("audience",["fetchAudiences","deleteAudience"]),formatDate(e){return new Date(e).toLocaleDateString()},editAudience(e){console.log(e.id),this.selectedAudienceId=e.id,this.showAudienceModal=!0},confirmDelete(e){confirm(`Are you sure you want to delete audience "${e.name}"?`)&&this.deleteAudience(e.id)}}};const _n=(0,l.A)(Ln,[["render",kn],["__scopeId","data-v-40713147"]]);var xn=_n;const Sn={class:"p-6 flex flex-col"},In={key:0,class:"bg-white shadow rounded-lg p-6 mb-6"},Dn={class:"text-3xl font-medium mb-4"},Tn={class:"text-gray-700 mb-4"},Fn={class:"flex space-x-4 mb-6"},On={class:"flex space-x-4 mb-6"},Pn={class:"bg-white shadow rounded-lg p-6 mb-6"},Vn={class:"flex justify-between items-center mb-4"},jn={key:0},Un={class:"font-semibold"},Bn=["href"],Mn=["onClick"],Qn=["onClick"],Nn=["onClick"],$n={key:1,class:"no-records py-2"},Xn={class:"bg-white shadow rounded-lg p-6 mb-6"},Wn={class:"flex justify-between items-center mb-4"},Gn={key:0},Jn=["onClick"],Kn=["onClick"],zn={key:1,class:"no-records py-2"},qn={class:"bg-white shadow rounded-lg p-6"},Hn={class:"flex justify-between items-center mb-4"},Yn={key:0},Zn=["onClick"],el=["onClick"],tl={key:1,class:"no-records py-2"};function ol(e,t,o,a,s,i){const n=(0,r.g2)("font-awesome-icon"),l=(0,r.g2)("ActivityCreationModal"),c=(0,r.g2)("ExpectedResultModal"),d=(0,r.g2)("AchievementModal"),u=(0,r.g2)("UploadActivityReport"),p=(0,r.g2)("CreateProjectModal");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",Sn,[e.activeProject?((0,r.uX)(),(0,r.CE)("div",In,[(0,r.Lk)("h1",Dn,(0,m.v_)(e.activeProject.title),1),(0,r.Lk)("p",Tn,(0,m.v_)(e.activeProject.description),1),(0,r.Lk)("div",Fn,[(0,r.Lk)("p",null,[t[10]||(t[10]=(0,r.Lk)("strong",null,"Start Date:",-1)),(0,r.eW)(" "+(0,m.v_)(i.formatDate(e.activeProject.start_date)),1)]),(0,r.Lk)("p",null,[t[11]||(t[11]=(0,r.Lk)("strong",null,"End Date:",-1)),(0,r.eW)(" "+(0,m.v_)(i.formatDate(e.activeProject.end_date)),1)]),(0,r.Lk)("p",null,[t[12]||(t[12]=(0,r.Lk)("strong",null,"Audience:",-1)),(0,r.eW)(" "+(0,m.v_)(e.activeProject.audience?.name||"N/A"),1)])]),(0,r.Lk)("div",On,[(0,r.Lk)("button",{class:"bg-yellow-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[0]||(t[0]=(...e)=>i.editProject&&i.editProject(...e))},[(0,r.bF)(n,{icon:"edit",class:"mr-2"}),t[13]||(t[13]=(0,r.eW)(" Edit Project "))]),(0,r.Lk)("button",{class:"bg-red-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[1]||(t[1]=(...e)=>i.confirmDeleteProject&&i.confirmDeleteProject(...e))},[(0,r.bF)(n,{icon:"trash",class:"mr-2"}),t[14]||(t[14]=(0,r.eW)(" Delete Project "))])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Pn,[(0,r.Lk)("div",Vn,[t[16]||(t[16]=(0,r.Lk)("h2",{class:"text-2xl font-bold"},"Activities",-1)),(0,r.Lk)("button",{class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[2]||(t[2]=(...e)=>i.createActivity&&i.createActivity(...e))},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[15]||(t[15]=(0,r.eW)(" Add Activity "))])]),e.activeProject&&e.activeProject.activities&&e.activeProject.activities.length?((0,r.uX)(),(0,r.CE)("ul",jn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activeProject.activities,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"flex justify-between items-center p-4 border-b"},[(0,r.Lk)("div",null,[(0,r.Lk)("h3",Un,(0,m.v_)(e.title),1),(0,r.Lk)("p",null,(0,m.v_)(e.description),1),(0,r.Lk)("p",null,[t[17]||(t[17]=(0,r.Lk)("strong",null,"Start:",-1)),(0,r.eW)(" "+(0,m.v_)(i.formatDate(e.start_date))+" | ",1),t[18]||(t[18]=(0,r.Lk)("strong",null,"End:",-1)),(0,r.eW)(" "+(0,m.v_)(i.formatDate(e.end_date)),1)]),(0,r.Lk)("p",null,[t[19]||(t[19]=(0,r.Lk)("strong",null,"Audience:",-1)),(0,r.eW)(" "+(0,m.v_)(e.audience?.name||"N/A"),1)]),e.report?((0,r.uX)(),(0,r.CE)("a",{key:0,href:i.formattedReportLink(e.report),target:"_blank",rel:"noopener noreferrer",class:"text-blue-500 underline"},"View Report",8,Bn)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"text-blue-500 hover:text-blue-700 mr-2",onClick:t=>i.editActivity(e)},[(0,r.bF)(n,{icon:"pen"})],8,Mn),(0,r.Lk)("button",{class:"text-red-500 hover:text-red-700 mr-2",onClick:t=>i.confirmDeleteActivity(e)},[(0,r.bF)(n,{icon:"trash"})],8,Qn),(0,r.Lk)("button",{class:"text-green-500 hover:text-red-700",onClick:t=>i.uploadActivityReportFile(e.id)},[(0,r.bF)(n,{icon:"upload"})],8,Nn)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",$n,"No activities available for this project"))]),(0,r.Lk)("div",Xn,[(0,r.Lk)("div",Wn,[t[21]||(t[21]=(0,r.Lk)("h2",{class:"text-2xl font-bold"},"Expected Results",-1)),(0,r.Lk)("button",{class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[3]||(t[3]=(...e)=>i.createExpectedResult&&i.createExpectedResult(...e))},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[20]||(t[20]=(0,r.eW)(" Add Expected Result "))])]),e.activeProject&&e.activeProject.expected_results&&e.activeProject.expected_results.length?((0,r.uX)(),(0,r.CE)("ul",Gn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activeProject.expected_results,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"flex justify-between items-center p-4 border-b"},[(0,r.Lk)("p",null,(0,m.v_)(e.description),1),(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"text-blue-500 hover:text-blue-700 mr-2",onClick:t=>i.editExpectedResult(e)},[(0,r.bF)(n,{icon:"pen"})],8,Jn),(0,r.Lk)("button",{class:"text-red-500 hover:text-red-700",onClick:t=>i.confirmDeleteExpectedResult(e)},[(0,r.bF)(n,{icon:"trash"})],8,Kn)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",zn,"No expected results available for this project"))]),(0,r.Lk)("div",qn,[(0,r.Lk)("div",Hn,[t[23]||(t[23]=(0,r.Lk)("h2",{class:"text-2xl font-bold"},"Achievements",-1)),(0,r.Lk)("button",{class:"bg-green-500 text-white px-4 py-2 rounded-lg flex items-center",onClick:t[4]||(t[4]=(...e)=>i.createAchievement&&i.createAchievement(...e))},[(0,r.bF)(n,{icon:"plus",class:"mr-2"}),t[22]||(t[22]=(0,r.eW)(" Add Achievement "))])]),e.activeProject&&e.activeProject.achievements&&e.activeProject.achievements.length?((0,r.uX)(),(0,r.CE)("ul",Yn,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.activeProject.achievements,(e=>((0,r.uX)(),(0,r.CE)("li",{key:e.id,class:"flex justify-between items-center p-4 border-b"},[(0,r.Lk)("div",null,[(0,r.Lk)("p",null,(0,m.v_)(e.description),1),(0,r.Lk)("p",null,[t[24]||(t[24]=(0,r.Lk)("strong",null,"Category:",-1)),(0,r.eW)(" "+(0,m.v_)(e.category),1)])]),(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"text-blue-500 hover:text-blue-700 mr-2",onClick:t=>i.editAchievement(e)},[(0,r.bF)(n,{icon:"pen"})],8,Zn),(0,r.Lk)("button",{class:"text-red-500 hover:text-red-700",onClick:t=>i.confirmDeleteAchievement(e)},[(0,r.bF)(n,{icon:"trash"})],8,el)])])))),128))])):((0,r.uX)(),(0,r.CE)("div",tl,"No achievements available for this project"))])]),s.showActivityModal?((0,r.uX)(),(0,r.Wv)(l,{key:0,isVisible:s.showActivityModal,id:s.theActivityId,onClose:t[5]||(t[5]=e=>{s.showActivityModal=!1})},null,8,["isVisible","id"])):(0,r.Q3)("",!0),s.showExpectedResultModal?((0,r.uX)(),(0,r.Wv)(c,{key:1,isVisible:s.showExpectedResultModal,id:s.theExpectedResultId,onClose:t[6]||(t[6]=e=>{s.showExpectedResultModal=!1})},null,8,["isVisible","id"])):(0,r.Q3)("",!0),s.showAchievementModal?((0,r.uX)(),(0,r.Wv)(d,{key:2,isVisible:s.showAchievementModal,id:s.theAchievementId,onClose:t[7]||(t[7]=e=>{s.showAchievementModal=!1})},null,8,["isVisible","id"])):(0,r.Q3)("",!0),(0,r.bF)(u,{isVisible:s.showReportModal,activityId:s.theActivityId,onClose:t[8]||(t[8]=e=>{s.showReportModal=!1})},null,8,["isVisible","activityId"]),s.showProjectModal?((0,r.uX)(),(0,r.Wv)(p,{key:3,isVisible:s.showProjectModal,id:i.projectId,onClose:t[9]||(t[9]=e=>s.showProjectModal=!1)},null,8,["isVisible","id"])):(0,r.Q3)("",!0)],64)}const al={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},rl=["value"],sl={key:0,class:"text-red-500"};function il(e,t,o,s,i,n){const l=(0,r.g2)("CustomInput"),c=(0,r.g2)("CustomText"),d=(0,r.g2)("CustomFileInput"),u=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(u,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",al,(0,m.v_)(n.isEditing?"Edit Activity":"Create Activity"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>n.submitActivity&&n.submitActivity(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.activityData.title,"onUpdate:modelValue":t[0]||(t[0]=e=>i.activityData.title=e),prompt:"Title",error:e.errors.title?e.errors.title.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(c,{modelValue:i.activityData.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.activityData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.activityData.start_date,"onUpdate:modelValue":t[2]||(t[2]=e=>i.activityData.start_date=e),prompt:"Start Date",type:"date",error:e.errors.start_date?e.errors.start_date.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bF)(l,{modelValue:i.activityData.end_date,"onUpdate:modelValue":t[3]||(t[3]=e=>i.activityData.end_date=e),prompt:"End Date",type:"date",error:e.errors.end_date?e.errors.end_date.join(" "):"",required:""},null,8,["modelValue","error"]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>i.activityData.audience_id=e),required:""},[t[8]||(t[8]=(0,r.Lk)("option",{value:"",disabled:""},"Select Audience",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.audiences,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,m.v_)(e.name),9,rl)))),128))],512),[[a.u1,i.activityData.audience_id]]),e.errors.audience_id?((0,r.uX)(),(0,r.CE)("p",sl,(0,m.v_)(e.errors.audience_id.join(" ")),1)):(0,r.Q3)("",!0),n.isEditing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.Wv)(d,{key:1,value:i.activityData.report,onInput:t[5]||(t[5]=e=>i.activityData.report=e),label:"Upload Report",error:e.errors.report?e.errors.report.join(" "):""},null,8,["value","error"]))],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>n.submitActivity&&n.submitActivity(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Activity":"Create Activity"),1)])),_:1},8,["isVisible","onClose"])}var nl={components:{ModalLayout:ut,CustomInput:S,CustomText:Et,CustomFileInput:Tt},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{activityData:{title:"",description:"",start_date:"",end_date:"",report:null,audience_id:null}}},computed:{...(0,M.L8)("activity",["errors","activeActivity"]),...(0,M.L8)("audience",["audiences","activeAudience"]),isEditing(){return null!==this.id},hasErrors(){return Object.keys(this.errors).length>0},projectId(){return this.$route.params.id}},methods:{...(0,M.i0)("activity",["createActivity","updateActivity","setErrors","fetchActivityById"]),async submitActivity(){let e=new FormData;e.append("title",this.activityData?.title),e.append("description",this.activityData?.description),e.append("start_date",this.activityData?.start_date),e.append("end_date",this.activityData?.end_date),e.append("audience_id",this.activityData?.audience_id),!this.isEditing&&this.activityData?.report&&e.append("report",this.activityData?.poster),this.isEditing?(e.append("id",this.id),await this.updateActivity({activityData:e,projectId:this.projectId}),this.hasErrors||this.close()):(await this.createActivity({activityData:e,projectId:this.projectId}),this.hasErrors||this.close())},reset(){this.activityData={title:"",description:"",start_date:"",end_date:"",report:null,audience_id:null};const e={};this.setErrors(e)},close(){this.reset(),this.$emit("close")}},watch:{id:{immediate:!0,async handler(e){e&&(await this.fetchActivityById({activityId:e,projectId:this.projectId}),this.activityData={title:this.activeActivity?.title||"",description:this.activeActivity?.description||"",start_date:this.activeActivity?.start_date||"",end_date:this.activeActivity?.end_date||"",audience_id:this.activeActivity?.audience_id||null})}}}};const ll=(0,l.A)(nl,[["render",il]]);var cl=ll;const dl={class:"text-lg leading-6 font-medium text-gray-900 mb-4"};function ul(e,t,o,s,i,n){const l=(0,r.g2)("CustomText"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",dl,(0,m.v_)(n.isEditing?"Edit Expected Result":"Create Expected Result"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[1]||(t[1]=(0,a.D$)(((...e)=>n.submitExpectedResult&&n.submitExpectedResult(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.expectedResultData.description,"onUpdate:modelValue":t[0]||(t[0]=e=>i.expectedResultData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):"",required:""},null,8,["modelValue","error"])],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.submitExpectedResult&&n.submitExpectedResult(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Expected Result":"Create Expected Result"),1)])),_:1},8,["isVisible","onClose"])}var ml={components:{ModalLayout:ut,CustomText:Et},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{expectedResultData:{description:""}}},computed:{...(0,M.L8)("expectedResult",["errors","activeExpectedResult"]),isEditing(){return null!==this.id},hasErrors(){return Object.keys(this.errors).length>0},projectId(){return this.$route.params.id}},methods:{...(0,M.i0)("expectedResult",["createExpectedResult","updateExpectedResult","setErrors","fetchExpectedResultById"]),async submitExpectedResult(){this.isEditing?(await this.updateExpectedResult({expectedResultData:{...this.expectedResultData,id:this.id},projectId:this.projectId}),this.hasErrors||this.close()):(await this.createExpectedResult({expectedResultData:this.expectedResultData,projectId:this.projectId}),this.hasErrors||this.close())},reset(){this.expectedResultData={description:""};const e={};this.setErrors(e)},close(){this.reset(),this.$emit("close")}},watch:{id:{immediate:!0,async handler(e){e&&(await this.fetchExpectedResultById({expectedResultId:e,projectId:this.projectId}),this.expectedResultData={description:this.activeExpectedResult?.description||""})}}}};const pl=(0,l.A)(ml,[["render",ul]]);var hl=pl;const gl={class:"text-lg leading-6 font-medium text-gray-900 mb-4"},Al={key:0,class:"text-red-500"};function vl(e,t,o,s,i,n){const l=(0,r.g2)("CustomText"),c=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(c,{isVisible:o.isVisible,onClose:n.close},{header:(0,r.k6)((()=>[(0,r.Lk)("h3",gl,(0,m.v_)(n.isEditing?"Edit Achievement":"Create Achievement"),1)])),body:(0,r.k6)((()=>[(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>n.submitAchievement&&n.submitAchievement(...e)),["prevent"]))},[(0,r.bF)(l,{modelValue:i.achievementData.description,"onUpdate:modelValue":t[0]||(t[0]=e=>i.achievementData.description=e),prompt:"Description",error:e.errors.description?e.errors.description.join(" "):""},null,8,["modelValue","error"]),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.achievementData.category=e),required:""},t[4]||(t[4]=[(0,r.Lk)("option",{value:"",disabled:""},"Select Category",-1),(0,r.Lk)("option",{value:"main"},"Main",-1),(0,r.Lk)("option",{value:"other"},"Other",-1)]),512),[[a.u1,i.achievementData.category]]),e.errors.category?((0,r.uX)(),(0,r.CE)("p",Al,(0,m.v_)(e.errors.category.join(" ")),1)):(0,r.Q3)("",!0)],32)])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.submitAchievement&&n.submitAchievement(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"},(0,m.v_)(n.isEditing?"Update Achievement":"Create Achievement"),1)])),_:1},8,["isVisible","onClose"])}var bl={components:{ModalLayout:ut,CustomText:Et},props:{isVisible:{type:Boolean,default:!1},id:{type:[String,Number],default:null}},data(){return{achievementData:{description:"",category:"main"}}},computed:{...(0,M.L8)("achievement",["errors","activeAchievement"]),isEditing(){return null!==this.id},hasErrors(){return Object.keys(this.errors).length>0},projectId(){return this.$route.params.id}},methods:{...(0,M.i0)("achievement",["createAchievement","updateAchievement","setErrors","fetchAchievementById"]),async submitAchievement(){this.isEditing?(await this.updateAchievement({achievementData:{...this.achievementData,id:this.id},projectId:this.projectId}),this.hasErrors||this.close()):(await this.createAchievement({achievementData:this.achievementData,projectId:this.projectId}),this.hasErrors||this.close())},reset(){this.achievementData={description:"",category:"main"};const e={};this.setErrors(e)},close(){this.reset(),this.$emit("close")}},watch:{id:{immediate:!0,async handler(e){e&&(await this.fetchAchievementById({achievementId:e,projectId:this.projectId}),this.achievementData={description:this.activeAchievement?.description||"",category:this.activeAchievement?.category||"main"})}}}};const El=(0,l.A)(bl,[["render",vl]]);var yl=El;function fl(e,t,o,a,s,i){const n=(0,r.g2)("CustomFileInput"),l=(0,r.g2)("ModalLayout");return(0,r.uX)(),(0,r.Wv)(l,{isVisible:o.isVisible,onClose:i.close},{header:(0,r.k6)((()=>t[2]||(t[2]=[(0,r.Lk)("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Upload Activity Report",-1)]))),body:(0,r.k6)((()=>[(0,r.bF)(n,{modelValue:s.file,"onUpdate:modelValue":t[0]||(t[0]=e=>s.file=e),label:s.label,accept:s.accept,error:s.error,onNewFile:i.handleFileInput},null,8,["modelValue","label","accept","error","onNewFile"])])),footer:(0,r.k6)((()=>[(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.submitFile&&i.submitFile(...e)),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mt-4"}," Upload ")])),_:1},8,["isVisible","onClose"])}var Cl={components:{ModalLayout:ut,CustomFileInput:Tt},computed:{projectId(){return this.$route.params.id}},props:{isVisible:{type:Boolean,default:!1},activityId:{type:Number,required:!0}},data(){return{file:null,label:"Upload Report File",accept:"*/*",error:""}},methods:{...(0,M.i0)("activity",["uploadActivityReport"]),async submitFile(){this.error="";try{const e=new FormData;e.append("report",this.file),e.append("activityId",this.activityId),e.append("projectId",this.projectId),await this.uploadActivityReport({reportData:e}),this.$emit("close")}catch(e){console.error("Upload failed:",e),this.error="Upload failed. Please try again."}},reset(){this.file=null,this.error=""},close(){this.reset(),this.$emit("close")},handleFileInput(e){this.file=e}}};const Rl=(0,l.A)(Cl,[["render",fl]]);var wl=Rl,kl={data(){return{showActivityModal:!1,showExpectedResultModal:!1,showAchievementModal:!1,showReportModal:!1,showProjectModal:!1,theActivityId:null,theExpectedResultId:null,theAchievementId:null}},components:{ActivityCreationModal:cl,ExpectedResultModal:hl,AchievementModal:yl,UploadActivityReport:wl,CreateProjectModal:fo},computed:{...(0,M.L8)("project",["activeProject"]),projectId(){return this.$route.params.id}},async mounted(){const e=this.$route.params.id;console.log("Fetching project Id :",e),await this.fetchProjectById(e)},methods:{...(0,M.i0)("project",["fetchProjectById","deleteProject"]),...(0,M.i0)("activity",["deleteActivity"]),...(0,M.i0)("expectedResult",["deleteExpectedResult"]),...(0,M.i0)("achievement",["deleteAchievement"]),formatDate(e){return new Date(e).toLocaleDateString()},formattedReportLink(e){return e?`${{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_BACKEND_URL}storage/${e}`:"#"},editProject(){this.showProjectModal=!0},async confirmDeleteProject(){confirm("Are you sure you want to delete this project?")&&(await this.deleteProject(this.$route.params.id),this.$router.push({name:"Project"}))},createActivity(){this.theActivityId=null,this.showActivityModal=!0},editActivity(e){this.theActivityId=e.id,this.showActivityModal=!0},async confirmDeleteActivity(e){confirm(`Are you sure you want to delete activity "${e.title}"?`)&&(await this.deleteActivity({activityId:e.id,projectId:this.projectId}),await this.fetchProjectById(this.$route.params.id))},createExpectedResult(){this.theExpectedResultId=null,this.showExpectedResultModal=!0},editExpectedResult(e){this.theExpectedResultId=e.id,this.showExpectedResultModal=!0},async confirmDeleteExpectedResult(e){confirm("Are you sure you want to delete this expected result?")&&(await this.deleteExpectedResult({expectedResultId:e.id,projectId:this.projectId}),await this.fetchProjectById(this.projectId))},createAchievement(){this.theAchievementId=null,this.showAchievementModal=!0},editAchievement(e){this.theAchievementId=e.id,this.showAchievementModal=!0},async confirmDeleteAchievement(e){confirm("Are you sure you want to delete this achievement?")&&(await this.deleteAchievement({achievementId:e.id,projectId:this.projectId}),await this.fetchProjectById(this.projectId))},uploadActivityReportFile(e){this.theActivityId=e,this.showReportModal=!0}}};const Ll=(0,l.A)(kl,[["render",ol]]);var _l=Ll;const xl=[{path:"/",redirect:{name:"Login"}},{path:"/login",name:"Login",component:$},{path:"/register",name:"Register",component:oe},{path:"/request-password-reset",name:"RequestPasswordReset",component:pe},{path:"/reset-password",name:"ResetPassword",component:we},{path:"/dashboard",name:"Dashboard",component:So,children:[{path:"collections/:id",name:"Collection",component:na,props:!0},{path:"documents/:id",name:"Document",component:Ka,props:!0},{path:"events",name:"Event",component:Cr},{path:"projects",name:"Project",component:hn},{path:"audiences",name:"Audience",component:xn},{path:"events/:id",name:"EventDetail",component:vs,props:!0},{path:"projects/:id",name:"ProjectDetail",component:_l,props:!0},{path:"tags",name:"Tag",component:Os},{path:"users/:id?",name:"UserDetail",component:ri,props:!0},{path:"roles",name:"Role",component:vi},{path:"roles/:id?",name:"RoleDetail",component:$i,props:!0}]}],Sl=(0,u.aE)({history:(0,u.LA)("/"),routes:xl});Sl.beforeEach(((e,t,o)=>{const a=localStorage.getItem("token"),r=["Dashboard","Collection","Document","Role","Project","Audience","ProjectDetail","Event","EventDetail","Tag","UserDetail","RoleDetail"];r.includes(e.name)&&!a?o({name:"Login"}):o()}));var Il=Sl,Dl=o(7107),Tl=o(6188);Dl.Yv.add(Tl.MjD,Tl.GRI,Tl.ckx,Tl.CeG,Tl.yLS,Tl.okg,Tl.z$e,Tl.X46,Tl.gdJ,Tl.v02,Tl.Jyw,Tl.QLR,Tl.ao0,Tl._JS,Tl.E5r,Tl.cbP,Tl.t5Z,Tl.MT7,Tl.JmV,Tl.U23,Tl.EX0,Tl.bMg,Tl.pS3,Tl.hhY,Tl.isQ,Tl.Pcr,Tl._2z,Tl.enb,Tl.hpd,Tl.KKr,Tl.y_8,Tl.u4D,Tl.h8M);const Fl={activeCollection:null,activeDocument:null,rootId:null,collections:[],errors:{},reports:[]},Ol={SET_ACTIVE_COLLECTION(e,t){e.activeCollection=t,console.log(e.activeCollection)},SET_ACTIVE_DOCUMENT(e,t){e.activeDocument=t},SET_REPORTS(e,t){e.reports=t},SET_ROOT_ID(e,t){e.rootId=t},SET_COLLECTIONS(e,t){e.collections=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Pl={async fetchCollectionById({commit:e,dispatch:t},{collectionId:o,tag:a,search:r}){try{t("global/setLoading",!0,{root:!0}),console.log(o,a,r);const s=await Hs.get(`/collections/${o}?tag=${a}&search=${r}`);e("SET_ACTIVE_COLLECTION",s.data)}catch(s){console.error("Failed to fetch collection:",s)}finally{t("global/setLoading",!1,{root:!0})}},async fetchDocumentById({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/documents/${o}`);console.log("Document fetched:",a.data),e("SET_ACTIVE_DOCUMENT",a.data)}catch(a){console.error("Failed to fetch document:",a)}finally{t("global/setLoading",!1,{root:!0})}},async fetchReportsByDocumentId({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/reports/by-document/${o}`);console.log("Reports fetched:",a.data),e("SET_REPORTS",a.data)}catch(a){console.error("Failed to fetch reports:",a)}finally{t("global/setLoading",!1,{root:!0})}},async setActiveCollection({commit:e},t){e("SET_ACTIVE_COLLECTION",t)},async fetchRootCollection({dispatch:e},{tag:t,search:o}){try{e("global/setLoading",!0,{root:!0});const a=await Hs.get(`/collections/root?tag=${t}&search=${o}`),r=a.data;console.log(r),await e("setActiveCollection",r)}catch(a){console.error("Failed to fetch root collection:",a)}finally{e("global/setLoading",!1,{root:!0})}},async createCollection({commit:e,dispatch:t,state:o},a){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const r=o.activeCollection?o.activeCollection.id:null;await Hs.post("/collections",{...a,parent_id:r}),null===r?await t("fetchRootCollection",{tag:"",search:""}):await t("fetchCollectionById",{collectionId:r,tag:"",search:""})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create collection. Please try again later."}),console.error("Failed to create collection:",r)}finally{t("global/setLoading",!1,{root:!0})}},async createDocument({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.activeCollection?t.activeCollection.id:null,s=new FormData;s.append("name",a.name),s.append("description",a.description),s.append("file",a.file),s.append("collection_id",r),a.tag_ids.forEach((e=>{s.append("tag_ids[]",e)}));const i=await Hs.post("/documents",s,{headers:{"Content-Type":"multipart/form-data"}});console.log(i.data),await o("fetchCollectionById",{collectionId:r,tag:"",search:""})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create document. Please try again later."}),console.error("Failed to create document:",r)}finally{o("global/setLoading",!1,{root:!0})}},async uploadDocumentVersion({commit:e,state:t,dispatch:o},{file:a,description:r}){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.activeDocument.id,i=new FormData;i.append("file",a),i.append("description",r),await Hs.post(`/documents/${s}/versions`,i,{headers:{"Content-Type":"multipart/form-data"}}),await o("fetchDocumentById",s)}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to upload document version. Please try again later."}),console.error("Failed to upload document version:",s)}finally{o("global/setLoading",!1,{root:!0})}},async updateDocument({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const a=Fl.activeCollection?Fl.activeCollection.id:null,r={...o,collection_id:a};await Hs.post(`/documents/${o.id}/update`,r),await t("fetchDocumentById",o.id)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to update document. Please try again later."}),console.error("Failed to update document:",a)}finally{t("global/setLoading",!1,{root:!0})}},async deleteDocument({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/documents/${a}/delete`),t.activeCollection?await o("fetchCollectionById",{collectionId:t.activeCollection.id,tag:"",search:""}):await o("fetchRootCollection",{tag:"",search:""})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to delete document. Please try again later."}),console.error("Failed to delete document:",r)}finally{o("global/setLoading",!1,{root:!0})}},async createReport({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.activeDocument.id,s=new FormData;s.append("municipality",a.municipality),s.append("participants",a.participants),s.append("workshops",a.workshops),s.append("challenges",a.challenges),s.append("recommendations",a.recommendations),s.append("document_id",r);const i=await Hs.post("/reports",s,{headers:{"Content-Type":"multipart/form-data"}});console.log("Report Created:",i.data),await o("fetchReportsByDocumentId",r)}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create report. Please try again later."}),console.error("Failed to create report:",r)}finally{o("global/setLoading",!1,{root:!0})}},async updateReport({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.activeDocument.id,s=new FormData;s.append("municipality",a.municipality),s.append("participants",a.participants),s.append("workshops",a.workshops),s.append("challenges",a.challenges),s.append("recommendations",a.recommendations),await Hs.post(`/reports/${a.id}/update`,s,{headers:{"Content-Type":"multipart/form-data"}}),console.log("Report Updated:",a),await o("fetchReportsByDocumentId",r)}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update report. Please try again later."}),console.error("Failed to update report:",r)}finally{o("global/setLoading",!1,{root:!0})}},async deleteReport({commit:e,state:t,dispatch:o},a){try{o("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/reports/${a}/delete`),t.activeDocument&&await o("fetchDocumentById",t.activeDocument.id)}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to delete report. Please try again later."}),console.error("Failed to delete report:",r)}finally{o("global/setLoading",!1,{root:!0})}},async fetchRootId({commit:e,dispatch:t}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const o=await Hs.get("/collections/rootId"),a=o.data;console.log("Root Id fetched",a),e("SET_ROOT_ID",a)}catch(o){console.error("Failed to fetch root id",o)}finally{t("global/setLoading",!1,{root:!0})}},setActiveDocument({commit:e},t){e("SET_ACTIVE_DOCUMENT",t)},setErrors({commit:e},t){e("SET_ERRORS",t)}},Vl={activeDocument:e=>e.activeDocument,breadcrumbPath:e=>{let t=[],o=e.activeCollection;while(o)t.unshift(o),o=o.parent;return t},activeCollection:e=>e.activeCollection,rootId:e=>e.rootId,errors:e=>e.errors,reports:e=>e.reports};var jl={namespaced:!0,state:Fl,mutations:Ol,actions:Pl,getters:Vl};const Ul={events:[],activeEvent:null,errors:{}},Bl={SET_EVENTS(e,t){e.events=t},SET_ACTIVE_EVENT(e,t){e.activeEvent=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Ml={async fetchEvents({commit:e},{tag:t,search:o}){try{e("global/SET_LOADING",!0,{root:!0});const a=await Hs.get(`/events?tag=${t}&search=${o}`);e("SET_EVENTS",a.data)}catch(a){console.error("Failed to fetch events:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchEventById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.get(`/events/${t}`);e("SET_ACTIVE_EVENT",o.data)}catch(o){console.error("Failed to fetch event:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createEvent({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Hs.post("/events",o,{headers:{"Content-Type":"multipart/form-data"}}),r=a.data;return e("SET_EVENTS",[...t.events,r]),r}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to create event. Please try again later."}),console.error("Failed to create event:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateEvent({commit:e,dispatch:t},{id:o,formData:a}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/events/${o}/update`,a,{headers:{"Content-Type":"multipart/form-data"}}),await t("event/fetchEventById",o,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update event. Please try again later."}),console.error("Failed to update event:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteEvent({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/events/${o}/delete`);const a=t.events.filter((e=>e.id!==o));e("SET_EVENTS",a)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to delete event. Please try again later."}),console.error("Failed to delete event:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async uploadEventFile({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Hs.post(`/events/${t.activeEvent.id}/files`,o,{headers:{"Content-Type":"multipart/form-data"}}),r=a.data.file;console.log(r);const s={...t.activeEvent,files:[...t.activeEvent.files,r]};return e("SET_ACTIVE_EVENT",s),r}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to upload file. Please try again later."}),console.error("Failed to upload file:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async removeEventFile({commit:e,state:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/events/${t.activeEvent.id}/files/${o}/delete`);const a={...t.activeEvent,files:t.activeEvent.files.filter((e=>e.id!==o))};e("SET_ACTIVE_EVENT",a)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to remove file. Please try again later."}),console.error("Failed to remove file:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateEventPoster({commit:e,state:t},{eventId:o,formData:a}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=await Hs.post(`/events/${o}/poster`,a,{headers:{"Content-Type":"multipart/form-data"}}),s=r.data.poster,i={...t.activeEvent,poster:s};return e("SET_ACTIVE_EVENT",i),s}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update poster. Please try again later."}),console.error("Failed to update poster:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},setActiveEvent({commit:e},t){e("SET_ACTIVE_EVENT",t)},setErrors({commit:e},t){e("SET_ERRORS",t)}},Ql={events:e=>e.events,activeEvent:e=>e.activeEvent,errors:e=>e.errors};var Nl={namespaced:!0,state:Ul,mutations:Bl,actions:Ml,getters:Ql};const $l={eventOutcomes:[],errors:{}},Xl={SET_EVENT_OUTCOMES(e,t){e.eventOutcomes=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Wl={async createEventOutcome({commit:e,rootState:t,dispatch:o},a){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent,s={event_id:a?.eventId,description:a?.outcomeData?.description,date:a?.outcomeData?.date};await Hs.post(`/events/${r.id}/outcomes`,s),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create event outcome. Please try again later."}),console.error("Failed to create event outcome:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateEventOutcome({commit:e,rootState:t,dispatch:o},a){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent,s={description:a?.outcomeData?.description,date:a?.outcomeData?.date};await Hs.post(`/events/${r.id}/outcomes/${a?.outcomeId}/update`,s),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update event outcome. Please try again later."}),console.error("Failed to update event outcome:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteEventOutcome({commit:e,rootState:t,dispatch:o},a){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const r=t.event.activeEvent,s=r.id;await Hs.post(`/events/${s}/outcomes/${a}/delete`),await o("event/fetchEventById",r.id,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to delete event outcome. Please try again later."}),console.error("Failed to delete event outcome:",r)}finally{e("global/SET_LOADING",!1,{root:!0})}},async uploadOutcomeFile({commit:e,rootState:t,dispatch:o},{outcomeId:a,formData:r}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent;await Hs.post(`/events/${s.id}/outcomes/${a}/files`,r,{headers:{"Content-Type":"multipart/form-data"}}),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to upload file. Please try again later."}),console.error("Failed to upload file:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async removeOutcomeFile({commit:e,rootState:t,dispatch:o},{outcomeId:a,fileId:r}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent;await Hs.post(`/events/${s.id}/outcomes/${a}/files/${r}/delete`),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to remove file. Please try again later."}),console.error("Failed to remove file:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async uploadOutcomeImage({commit:e,rootState:t,dispatch:o},{outcomeId:a,formData:r}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent;await Hs.post(`/events/${s.id}/outcomes/${a}/images`,r,{headers:{"Content-Type":"multipart/form-data"}}),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to upload file. Please try again later."}),console.error("Failed to upload file:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},async removeOutcomeImage({commit:e,rootState:t,dispatch:o},{outcomeId:a,imageId:r}){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const s=t.event.activeEvent;await Hs.post(`/events/${s.id}/outcomes/${a}/images/${r}/delete`),await o("event/fetchEventById",s.id,{root:!0})}catch(s){s.response&&s.response.data.errors?e("SET_ERRORS",s.response.data.errors):e("SET_ERRORS",{message:"Failed to remove file. Please try again later."}),console.error("Failed to remove file:",s)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Gl={eventOutcomes:e=>e.eventOutcomes,errors:e=>e.errors};var Jl={namespaced:!0,state:$l,mutations:Xl,actions:Wl,getters:Gl};const Kl={tags:[],errors:{},activeTag:null},zl={SET_TAGS(e,t){e.tags=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_ACTIVE_TAG(e,t){e.activeTag=t},CLEAR_ACTIVE_TAG(e){e.activeTag=null}},ql={async fetchTags({commit:e},{name:t}){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.get(`/tags?name=${t}`);e("SET_TAGS",o.data)}catch(o){console.error("Failed to fetch tags:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchTagById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.get(`/tags/${t}`);e("SET_ACTIVE_TAG",o.data)}catch(o){console.error("Failed to fetch tag by ID:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createTag({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Hs.post("/tags",o);return await t("fetchTags",{name:""}),a.data}catch(a){const t=a.response?.data?.errors||{message:"Failed to create tag. Please try again later."};e("SET_ERRORS",t),console.error("Failed to create tag:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateTag({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/tags/${o.id}/update`,o),await t("fetchTags",{name:""})}catch(a){const t=a.response?.data?.errors||{message:"Failed to update tag. Please try again later."};e("SET_ERRORS",t),console.error("Failed to update tag:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteTag({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/tags/${o}/delete`),await t("fetchTags",{name:""})}catch(a){const t=a.response?.data?.errors||{message:"Failed to delete tag. Please try again later."};e("SET_ERRORS",t),console.error("Failed to delete tag:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Hl={tags:e=>e.tags,errors:e=>e.errors,activeTag:e=>e.activeTag};var Yl={namespaced:!0,state:Kl,mutations:zl,actions:ql,getters:Hl};const Zl={loading:!1},ec={loading:e=>e.loading},tc={SET_LOADING(e,t){e.loading=t}},oc={setLoading({commit:e},t){e("SET_LOADING",t)}};var ac={namespaced:!0,state:Zl,getters:ec,mutations:tc,actions:oc};const rc={roles:[],errors:{},activeRole:null},sc={SET_ROLES(e,t){e.roles=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_ACTIVE_ROLE(e,t){e.activeRole=t},CLEAR_ACTIVE_ROLE(e){e.activeRole=null}},ic={async fetchRoles({commit:e}){try{e("global/SET_LOADING",!0,{root:!0});const t=await Hs.get("/roles");e("SET_ROLES",t.data)}catch(t){console.error("Failed to fetch roles:",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchRoleById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.get(`/roles/${t}`);e("SET_ACTIVE_ROLE",o.data)}catch(o){console.error("Failed to fetch role by ID:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createRole({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Hs.post("/roles",o);return await t("fetchRoles"),a.data}catch(a){const t=a.response?.data?.errors||{message:"Failed to create role. Please try again later."};e("SET_ERRORS",t),console.error("Failed to create role:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateRole({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/roles/${o.id}/update`,o),await t("fetchRoles")}catch(a){const t=a.response?.data?.errors||{message:"Failed to update role. Please try again later."};e("SET_ERRORS",t),console.error("Failed to update role:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deleteRole({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/roles/${o}/delete`),await t("fetchRoles")}catch(a){const t=a.response?.data?.errors||{message:"Failed to delete role. Please try again later."};e("SET_ERRORS",t),console.error("Failed to delete role:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},nc={roles:e=>e.roles,errors:e=>e.errors,activeRole:e=>e.activeRole};var lc={namespaced:!0,state:rc,mutations:sc,actions:ic,getters:nc};const cc={permissions:[],errors:{},activePermission:null},dc={SET_PERMISSIONS(e,t){e.permissions=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_ACTIVE_PERMISSION(e,t){e.activePermission=t},CLEAR_ACTIVE_PERMISSION(e){e.activePermission=null}},uc={async fetchPermissions({commit:e}){try{e("global/SET_LOADING",!0,{root:!0});const t=await Hs.get("/permissions");e("SET_PERMISSIONS",t.data)}catch(t){console.error("Failed to fetch permissions:",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchPermissionById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.get(`/permissions/${t}`);e("SET_ACTIVE_PERMISSION",o.data)}catch(o){console.error("Failed to fetch permission by ID:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async createPermission({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS");const a=await Hs.post("/permissions",o);return await t("fetchPermissions"),a.data}catch(a){const t=a.response?.data?.errors||{message:"Failed to create permission. Please try again later."};e("SET_ERRORS",t),console.error("Failed to create permission:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async updatePermission({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/permissions/${o.id}/update`,o),await t("fetchPermissions")}catch(a){const t=a.response?.data?.errors||{message:"Failed to update permission. Please try again later."};e("SET_ERRORS",t),console.error("Failed to update permission:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},async deletePermission({commit:e,dispatch:t},o){try{e("global/SET_LOADING",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/permissions/${o}/delete`),await t("fetchPermissions")}catch(a){const t=a.response?.data?.errors||{message:"Failed to delete permission. Please try again later."};e("SET_ERRORS",t),console.error("Failed to delete permission:",a)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},mc={permissions:e=>e.permissions,errors:e=>e.errors,activePermission:e=>e.activePermission};var pc={namespaced:!0,state:cc,mutations:dc,actions:uc,getters:mc};const hc={users:[],errors:{},currentUser:null,token:""},gc={SET_USERS(e,t){e.users=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}},SET_CURRENT_USER(e,t){e.currentUser=t},SET_TOKEN(e,t){e.token=t}},Ac={async loginUser({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0}),await zs.A.get({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_CSRF_URL,{withCredentials:!0});const o=await Hs.post("/users/login",t),a=o.data.token,r=JSON.stringify(o.data.user);return localStorage.setItem("token",a),localStorage.setItem("user",r),e("SET_TOKEN",a),e("SET_CURRENT_USER",r),e("SET_ERRORS",{}),!0}catch(o){let t={};t=o.response&&401===o.response.status?{message:"Invalid credentials. Please check your email and password."}:o.response&&o.response.data.errors?o.response.data.errors:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async registerUser({commit:e},t){try{return e("global/SET_LOADING",!0,{root:!0}),await zs.A.get({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_CSRF_URL,{withCredentials:!0}),await Hs.post("/users/register",t,{headers:{"Content-Type":"multipart/form-data"}}),e("SET_ERRORS",{}),!0}catch(o){let t={};t=o.response&&401===o.response.status?{message:"Invalid data. Please check your input and try again."}:o.response&&o.response.data.errors?o.response.data.errors:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t)}finally{e("global/SET_LOADING",!1,{root:!0})}},async logoutUser({commit:e}){try{return e("global/SET_LOADING",!0,{root:!0}),await Hs.post("/users/logout"),e("SET_CURRENT_USER",null),e("SET_TOKEN",""),localStorage.removeItem("token"),localStorage.removeItem("user"),e("SET_ERRORS",{}),!0}catch(t){let o={};o=t.response&&401===t.response.status?{message:"Unauthorized request. Please log in again."}:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},async requestPasswordReset({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.post("/users/request-password-reset",{email:t});return e("SET_ERRORS",{}),console.log(o.data.message),o.data.message}catch(o){let t={};return t=o.response&&400===o.response.status?{message:o.response.data.message||"Invalid email address."}:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t),!1}finally{e("global/SET_LOADING",!1,{root:!0})}},async resetPassword({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.post("/users/reset-password",t);return e("SET_ERRORS",{}),console.log(o.data.message),o.data.message}catch(o){let t={};return t=o.response&&400===o.response.status?{message:o.response.data.message||"Invalid email address."}:{message:"Something went wrong. Please try again later."},e("SET_ERRORS",t),!1}finally{e("global/SET_LOADING",!1,{root:!0})}},async fetchUserById({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0});const o=await Hs.get(`/users/${t}`);e("SET_CURRENT_USER",o.data)}catch(o){console.error("Failed to fetch user:",o),e("SET_ERRORS",{message:"Failed to fetch user. Please try again later."})}finally{e("global/SET_LOADING",!1,{root:!0})}},async updateUser({commit:e},t){try{e("global/SET_LOADING",!0,{root:!0}),await Hs.post(`/users/${t.id}/update`,t),e("SET_CURRENT_USER",t)}catch(o){let t={};t=o.response&&o.response.data.errors?o.response.data.errors:{message:"Failed to update user. Please try again later."},e("SET_ERRORS",t),console.error("Failed to update user:",o)}finally{e("global/SET_LOADING",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},vc={users:e=>e.users,errors:e=>e.errors,currentUser:e=>{if(!e.currentUser){const e=localStorage.getItem("user");return e?JSON.parse(e):null}return e.currentUser},token:e=>e.token?e.token:localStorage.getItem("token")||""};var bc={namespaced:!0,state:hc,mutations:gc,actions:Ac,getters:vc};const Ec={},yc={},fc={async downloadDocument({commit:e},t){console.log(t);try{const o=await Hs({url:`/documents/${t}/download`,method:"GET",responseType:"blob"}),a=window.URL.createObjectURL(new Blob([o.data],{type:o.headers["content-type"]})),r=document.createElement("a");r.href=a;const s={"application/pdf":"pdf","image/jpeg":"jpg","image/png":"png","text/plain":"txt","application/zip":"zip","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx"},i=o.headers["content-type"],n=s[i]||"txt",l=`document.${n}`;r.setAttribute("download",l),document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(a),e("SET_NOTHING","")}catch(o){console.error("Error downloading the document:",o)}},async downloadDocumentVersion({commit:e},{documentId:t,versionId:o}){try{const a=await Hs({url:`/documents/${t}/versions/${o}/download`,method:"GET",responseType:"blob"}),r=window.URL.createObjectURL(new Blob([a.data],{type:a.headers["content-type"]})),s=document.createElement("a");s.href=r;const i={"application/pdf":"pdf","image/jpeg":"jpg","image/png":"png","text/plain":"txt","application/zip":"zip","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx"},n=a.headers["content-type"],l=i[n]||"txt",c=`version-${o}.${l}`;s.setAttribute("download",c),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(r),e("SET_NOTHING","")}catch(a){console.error("Error downloading the document version:",a)}},async restoreDocumentVersion({commit:e},{documentId:t,versionId:o}){try{e("global/SET_LOADING",!0,{root:!0}),await Hs.post(`/documents/${t}/restore/${o}`),e("SET_NOTHING","")}catch(a){console.error("Error restoring the document version",a)}finally{e("global/SET_LOADING",!1,{root:!0})}}},Cc={SET_NOTHING(e,t){console.log(t)}};var Rc={namespaced:!0,state:Ec,getters:yc,actions:fc,mutations:Cc};const wc={breadcrumb:[]},kc={ADD_BREADCRUMB_ITEM(e,t){e.breadcrumb.push(t)},TRIM_BREADCRUMB(e,t){e.breadcrumb=e.breadcrumb.slice(0,t+1)},CLEAR_BREADCRUMB(e){e.breadcrumb=[]}},Lc={addbBreadcrumItem({commit:e},t){e("ADD_BREADCRUMB_ITEM",t)},trimBreadcrumb({commit:e},t){e("TRIM_BREADCRUMB",t)},clearBreadcrumb({commit:e}){e("CLEAR_BREADCRUMB")}},_c={breadcrumb:e=>e.breadcrumb};var xc={namespaced:!0,state:wc,mutations:kc,actions:Lc,getters:_c};const Sc={projects:[],activeProject:null,errors:{},pagination:{currentPage:1,lastPage:null,perPage:10,total:null}},Ic={SET_PROJECTS(e,t){e.projects=t},SET_PAGINATION(e,t){e.pagination=t},SET_ACTIVE_PROJECT(e,t){e.activeProject=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Dc={async fetchProjects({commit:e,dispatch:t},o=1){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/projects?page=${o}`);e("SET_PROJECTS",a.data.data),e("SET_PAGINATION",{currentPage:a.data.current_page,lastPage:a.data.last_page,perPage:a.data.per_page,total:a.data.total})}catch(a){console.error("Failed to fetch projects:",a)}finally{t("global/setLoading",!1,{root:!0})}},async fetchProjectById({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/projects/${o}`);e("SET_ACTIVE_PROJECT",a.data)}catch(a){console.error("Failed to fetch project:",a)}finally{t("global/setLoading",!1,{root:!0})}},async createProject({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post("/projects",o),await t("fetchProjects")}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to create project. Please try again later."}),console.error("Failed to create project:",a)}finally{t("global/setLoading",!1,{root:!0})}},async updateProject({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${o.id}/update`,o),await t("fetchProjectById",o.id)}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to update project. Please try again later."}),console.error("Failed to update project:",a)}finally{t("global/setLoading",!1,{root:!0})}},async deleteProject({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${o}/delete`),await t("fetchProjects")}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to delete project. Please try again later."}),console.error("Failed to delete project:",a)}finally{t("global/setLoading",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Tc={projects:e=>e.projects,activeProject:e=>e.activeProject,errors:e=>e.errors,pagination:e=>e.pagination};var Fc={namespaced:!0,state:Sc,mutations:Ic,actions:Dc,getters:Tc};const Oc={audiences:[],activeAudience:null,errors:{}},Pc={SET_AUDIENCES(e,t){e.audiences=t},SET_ACTIVE_AUDIENCE(e,t){e.activeAudience=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Vc={async fetchAudiences({commit:e,dispatch:t}){try{t("global/setLoading",!0,{root:!0});const o=await Hs.get("/audiences");e("SET_AUDIENCES",o.data)}catch(o){console.error("Failed to fetch audiences:",o)}finally{t("global/setLoading",!1,{root:!0})}},async fetchAudienceById({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/audiences/${o}`);e("SET_ACTIVE_AUDIENCE",a.data)}catch(a){console.error("Failed to fetch audience:",a)}finally{t("global/setLoading",!1,{root:!0})}},async createAudience({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post("/audiences",o),await t("fetchAudiences")}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to create audience. Please try again later."}),console.error("Failed to create audience:",a)}finally{t("global/setLoading",!1,{root:!0})}},async updateAudience({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/audiences/${o.id}/update`,o),await t("fetchAudiences")}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to update audience. Please try again later."}),console.error("Failed to update audience:",a)}finally{t("global/setLoading",!1,{root:!0})}},async deleteAudience({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/audiences/${o}/delete`),await t("fetchAudiences")}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to delete audience. Please try again later."}),console.error("Failed to delete audience:",a)}finally{t("global/setLoading",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},jc={audiences:e=>e.audiences,activeAudience:e=>e.activeAudience,errors:e=>e.errors};var Uc={namespaced:!0,state:Oc,mutations:Pc,actions:Vc,getters:jc};const Bc={activities:[],activeActivity:null,errors:{}},Mc={SET_ACTIVITIES(e,t){e.activities=t},SET_ACTIVE_ACTIVITY(e,t){e.activeActivity=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Qc={async fetchActivities({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/projects/${o}/activities`);e("SET_ACTIVITIES",a.data)}catch(a){console.error("Failed to fetch activities:",a)}finally{t("global/setLoading",!1,{root:!0})}},async fetchActivityById({commit:e,dispatch:t},{activityId:o,projectId:a}){try{t("global/setLoading",!0,{root:!0});const r=await Hs.get(`/projects/${a}/activities/${o}`);e("SET_ACTIVE_ACTIVITY",r.data)}catch(r){console.error("Failed to fetch activity:",r)}finally{t("global/setLoading",!1,{root:!0})}},async createActivity({commit:e,dispatch:t},{activityData:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/activities`,o,{headers:{"Content-Type":"multipart/form-data"}}),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create activity. Please try again later."}),console.error("Failed to create activity:",r)}finally{t("global/setLoading",!1,{root:!0})}},async updateActivity({commit:e,dispatch:t},{activityData:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS");const r=o.get("id");await Hs.post(`/projects/${a}/activities/${r}/update`,o,{headers:{"Content-Type":"multipart/form-data"}}),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update activity. Please try again later."}),console.error("Failed to update activity:",r)}finally{t("global/setLoading",!1,{root:!0})}},async deleteActivity({commit:e,dispatch:t},{activityId:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/activities/${o}/delete`),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to delete activity. Please try again later."}),console.error("Failed to delete activity:",r)}finally{t("global/setLoading",!1,{root:!0})}},async uploadActivityReport({commit:e,dispatch:t},{reportData:o}){try{t("global/setLoading",!0,{root:!0});const e=o.get("projectId"),a=o.get("activityId");await Hs.post(`/projects/${e}/activities/${a}/upload-report`,o,{headers:{"Content-Type":"multipart/form-data"}}),await t("project/fetchProjectById",e,{root:!0})}catch(a){a.response&&a.response.data.errors?e("SET_ERRORS",a.response.data.errors):e("SET_ERRORS",{message:"Failed to upload report. Please try again later."}),console.error("Failed to upload report:",a)}finally{t("global/setLoading",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Nc={activities:e=>e.activities,activeActivity:e=>e.activeActivity,errors:e=>e.errors};var $c={namespaced:!0,state:Bc,mutations:Mc,actions:Qc,getters:Nc};const Xc={expectedResults:[],activeExpectedResult:null,errors:{}},Wc={SET_EXPECTED_RESULTS(e,t){e.expectedResults=t},SET_ACTIVE_EXPECTED_RESULT(e,t){e.activeExpectedResult=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Gc={async fetchExpectedResults({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/projects/${o}/expected-results`);e("SET_EXPECTED_RESULTS",a.data)}catch(a){console.error("Failed to fetch expected results:",a)}finally{t("global/setLoading",!1,{root:!0})}},async fetchExpectedResultById({commit:e,dispatch:t},{expectedResultId:o,projectId:a}){try{t("global/setLoading",!0,{root:!0});const r=await Hs.get(`/projects/${a}/expected-results/${o}`);e("SET_ACTIVE_EXPECTED_RESULT",r.data)}catch(r){console.error("Failed to fetch expected result:",r)}finally{t("global/setLoading",!1,{root:!0})}},async createExpectedResult({commit:e,dispatch:t},{expectedResultData:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/expected-results`,o),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create expected result. Please try again later."}),console.error("Failed to create expected result:",r)}finally{t("global/setLoading",!1,{root:!0})}},async updateExpectedResult({commit:e,dispatch:t},{expectedResultData:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/expected-results/${o.id}/update`,o),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update expected result. Please try again later."}),console.error("Failed to update expected result:",r)}finally{t("global/setLoading",!1,{root:!0})}},async deleteExpectedResult({commit:e,dispatch:t},{expectedResultId:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/expected-results/${o}/delete`),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to delete expected result. Please try again later."}),console.error("Failed to delete expected result:",r)}finally{t("global/setLoading",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Jc={expectedResults:e=>e.expectedResults,activeExpectedResult:e=>e.activeExpectedResult,errors:e=>e.errors};var Kc={namespaced:!0,state:Xc,mutations:Wc,actions:Gc,getters:Jc};const zc={achievements:[],activeAchievement:null,errors:{}},qc={SET_ACHIEVEMENTS(e,t){e.achievements=t},SET_ACTIVE_ACHIEVEMENT(e,t){e.activeAchievement=t},SET_ERRORS(e,t){e.errors=t},CLEAR_ERRORS(e){e.errors={}}},Hc={async fetchAchievements({commit:e,dispatch:t},o){try{t("global/setLoading",!0,{root:!0});const a=await Hs.get(`/projects/${o}/achievements`);e("SET_ACHIEVEMENTS",a.data)}catch(a){console.error("Failed to fetch achievements:",a)}finally{t("global/setLoading",!1,{root:!0})}},async fetchAchievementById({commit:e,dispatch:t},{achievementId:o,projectId:a}){try{t("global/setLoading",!0,{root:!0});const r=await Hs.get(`/projects/${a}/achievements/${o}`);e("SET_ACTIVE_ACHIEVEMENT",r.data)}catch(r){console.error("Failed to fetch achievement:",r)}finally{t("global/setLoading",!1,{root:!0})}},async createAchievement({commit:e,dispatch:t},{achievementData:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/achievements`,o),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to create achievement. Please try again later."}),console.error("Failed to create achievement:",r)}finally{t("global/setLoading",!1,{root:!0})}},async updateAchievement({commit:e,dispatch:t},{achievementData:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/achievements/${o.id}/update`,o),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to update achievement. Please try again later."}),console.error("Failed to update achievement:",r)}finally{t("global/setLoading",!1,{root:!0})}},async deleteAchievement({commit:e,dispatch:t},{achievementId:o,projectId:a}){try{t("global/setLoading",!0,{root:!0}),e("CLEAR_ERRORS"),await Hs.post(`/projects/${a}/achievements/${o}/delete`),await t("project/fetchProjectById",a,{root:!0})}catch(r){r.response&&r.response.data.errors?e("SET_ERRORS",r.response.data.errors):e("SET_ERRORS",{message:"Failed to delete achievement. Please try again later."}),console.error("Failed to delete achievement:",r)}finally{t("global/setLoading",!1,{root:!0})}},setErrors({commit:e},t){e("SET_ERRORS",t)}},Yc={achievements:e=>e.achievements,activeAchievement:e=>e.activeAchievement,errors:e=>e.errors};var Zc={namespaced:!0,state:zc,mutations:qc,actions:Hc,getters:Yc},ed=(0,M.y$)({modules:{global:ac,collection:jl,event:Nl,eventOutcome:Jl,tag:Yl,role:lc,permission:pc,user:bc,document:Rc,breadcrumb:xc,project:Fc,audience:Uc,activity:$c,expectedResult:Kc,achievement:Zc}});const td=(0,a.Ef)(d);td.component("font-awesome-icon",De.gc),td.use(ed),td.use(Il),td.mount("#app")},3432:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAPIgAADyIB+qfDbQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABKTSURBVHic7d1/jOR3Xcfx1+7s3d62BcqPGqFQwm9kg5QfosIqRogGgpQExAxighlAg6IYARM0xJhASI0xJARIdMUazCqJ2lrwjwoUZeRHATHQbQwSkYq9pr/b+zHX682uf+y23F3vbm9/zHx29v14JJvrj7vZ1x+XfJ/7mZnvTK2urgYAqGW69QAAYPwEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBM+P6RoN+94IkL02ykOTSJD+U5JIkFyeZGtcOmllJcjDJf5/29V9zC0v3tBwGUNHU6urqyB580O8+IsmvJnlDkhcn2Teyb8akGia5NslHknxmbmFpdH8hAXjISAJg0O9eluS3k7wlySN3/BuwV307yUeT/KVTAYDR2tEAGPS700nekeQDSS7YsQemmqNJ3j23sPSR1kMA9qodC4BBv/uMJB/P2vP8sBOWkrxtbmHpcOshAHvNjgTAoN99SZJPJXn0th8MTvWfSV43t7B0U+shAHvJtt8GOOh3fyHJZ+Liz2g8O8kNg373F1sPAdhLtnUCMOh3X53k6iSdHVsEZ3Y8yU/NLSzd0HoIwF6w5QAY9LtPT/K1JI/a0UVwdt9L8oK5haW7Wg8BmHRbegpg/aY+fx8Xf8bryUk+Meh33TgKYJu2+hqA9yd57k4OgfP0yiS/33oEwKTb9FMA60f/N8Vd/WhnJckr5haWrm89BGBSbeUE4INx8aet6aw9FfC41kMAJtWmTgAG/e7lSb4xujmwKf+U5NU+PwBg8zZ7AvArI1kBW/OqJO9sPQJgEp33CcD6ff5vztpH+cJucTzJS+YWlr7eegjstOFy79FJnrn+9YyT/vnx8THqVQyT3JbkliT/t/71H0mu68wvDrbzwJsJgJ9J4kVX7Ebfydr9AQ61HgLbNVzu7UvSTfKueLcVZzdIcl3WbsZ3TWd+8e7NPsDMJn7vFZt9cBiTpyf5SDxFxQQbLvcemeRtWXtay0krG5nL2nX5iiT3DZd7Vyb508784tHzfYDNnADclORHtrISxuTNcwtLV7UeAZsxXO5dlOR9SX4tySMbz2GyHUzyh0kWO/OLw41+83kFwKDfvSxrt2GF3exI1p4K+HbrIXA+hsu9S7P2SaqXt97CnvLZJG/ozC+e87bp5/sugJ/b/h4YuQuT/O2g351tPQQ2MlzuPS/Jl+Piz857eZIbhsu955zrN51vAPz89vfAWFye5MrWI+Bchsu9Vyb5QpIntt7CnvW0JF8eLvfO+gP8hk8BDPrdTpI7kly8s9tgpF4zt7B0besRcLrhcu+tST4aH6POeBxO8pOd+cUbT/8f53MC8OK4+DN5Pj7od72Sml1luNx7QVz8Ga+LklwzXO495vT/cT4B4PifSfTYJH+9foIFzQ2XezNJ/iIu/ozfU5N8crjcO+XvngBgL3tZkj9oPQLWvSfJ81qPoKyXJ/mNk//DOV8DMOh3H53k9ihWJtcwyc/OLSz9a+sh1DVc7j07a7dv9Q4VWrozydM784v3JBufALwiLv5Mtk7Wngp42PNfMA7D5d5Ukj+Piz/tPTbJex/8l40CwPE/e8ETs/bcK7TwxiQvbT0C1v3WcLl3WbJxALgBEHvFFYN+9x2tR1DSu1sPgJPMZu3Dps4eAIN+9zlJnjSuRTAGfzzod911jbFZvwmLF/6x27wmOfcJgON/9prZJH8z6HcvbD2EMvz0z270E8Pl3iUCgGqeleTDrUew9w2Xe5dn7YXUsNtMJ3n1GQNg0O/uT/LT490DY/PmQb/7xtYj2PPe1XoAnMOLznYC8Nwkc+NcAmP2sUG/+7TWI9ib1l9l/Uutd8A5POFsAfCCsc6A8XtE1l4PsK/1EPakdyaZaT0CzuFSAUBlL0rywdYj2FuGy72Lk7yl9Q7YwFlPAF441hnQzu8M+t1Xth7BnvLrWTthgt3shx/2WQCDfncmyaEkB5pMgvG7Pcnz5haWDrYewmQbLvf2J/mfJI9vPAU2dKYTgOfExZ9aLkmy5KOD2QG/HBd/JsSZAsDz/1T0siTvbz2CybX+oT/e+sfEEADwA+8Z9LuvaT2CifWqrJ2gwkQQAPADU0muGvS7T2k9hInktr9MlFNeBDjod6eT3JfEvdKp7BtJXjG3sHRX6yFMhuFy78eS3NB6B2zG6ScAz4yLPzw/yb8P+t0XtR7CxPDcPxPn9DtVTczx/4nHvCz3X/qm1jPYu56c5KtH7j3cege73PSJO/OoTCdZaT0FNuX0E4CJCQCA3eDA4evj4s8kEgAAWzS1ciT7j3yl9QzYktMD4PlNVgBMoNnD/UytHm89A7bkoQAY9LtPTXJxwy0AE2Nq9YEcOPyF1jNgy04+Abi82QqACbP/6FcztXKo9QzYspMDwM1PAM7LamYPXd96BGzLyQFwWbMVABNk3+DGdE7c1noGbIsAANikA4c+23oCbJsAANiEmePfzczx77aeAdsmAAA2wU//7BXTSTLod+eSPK7xFoBdrXPituwb3Nh6BuyIB08A/PQPsIHZQ59PsrrRb4OJ8GAAPKnpCoBdbmrlUPYf9Ym/7B1OAADOw4HDX8jU6gOtZ8COEQAAG5haPZ7Zw/3WM2BHCQCADew/8pVMrRxpPQN2lAAAOKeVHDjstr/sPQIA4Bz2D76Z6RN3tp4BO867AADOYdaNf9ijpgf97iVJDrQeArDbzNz/ncwcv7n1DBiJ6Tj+BzijA4c+13oCjMx0HP8DPEzngVuz79hNrWfAyEwneVTrEQC7zezh6+O2v+xl00kuaD0CYDeZHt6X2aNfbT0DRmo6yVzrEQC7yezhf0lWh61nwEg5AQA4ydTq/Zk98m+tZ8DICQCAk8we+VKmVgatZ8DICQCAh6xk9tDnW4+AsfAaAIB1s0duyPTw7tYzYCycAAAkmVo5lLl7r2k9A8ZGAAAkueDuv8vUytHWM2BsPAUAlLfv2I3ZP/hG6xkwVk4AgNKmVo7lgrs/2XoGjJ0AAEqbu/cfMz28t/UMGLuZCACgpNVccM8/uOkPZc3EawCAYqZWj+fCu/4q+wbfaj0FmnECAJQyPbwvF935Z+kcv7n1FGhKAABldB64NRfd8TE3+4F4CgAooPPArTlw+HPZf/RrPuUP1s0k2dd6BMAozNz/nRw49LnsO3ZTktXWc2BXmWk9AGCnTK0cSueB29M5cWv2H/lSZjzPD2c10zkwmQcAUzmYqUOfaT0DaGhq9YFMn7g9nRO3Z/rE7T7GFzZhpjM3mQHQWf1+9t37/dYzAGAiTbceAACMnwAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFDSd5L7WIwCAsbpvOsnB1isAgLE6KAAAoB4BAAAFCQAAKOjgdJJbWq8AAMbqlukkN7ReAQCM1Q3TSb6Y5I7WSwCAsbgjyRenO/OLwyTXtl4DAIzFtZ35xeGDdwK8uukUAGBcrk5+cCvgf05ytN0WAGAMjmbtmr8WAJ35xUGST7dcBACM3KfXr/mnfBjQHyVZabMHABixlaxd65OcFACd+cUbk1zVYhEAMHJXrV/rkzz844Dfl+TYePcAACN2LGvX+IecEgCd+cXvJ/nQOBcBACP3ofVr/ENOPwFIkg8muW08ewCAEbsta9f2UzwsADrzi/ckeV2S42MYBQCMzvEkr1u/tp/iTCcA6cwv9pO8fdSrAICRevv6Nf1hzhgASdKZX1yM1wMAwKT60Pq1/IzOGgDrfjfJdTu7BwAYseuydg0/q3MGwPoHBb0+yad2cBQAMDqfSvL69Wv4WW10ApDO/OKhJFckuXKHhgEAo3FlkivWr93nNLW6unrejzpc7r0pyZ8lObD1bQDADjuW5K2d+cVPnO8f2FQAJMlwuffjST6Z5LLNbQMARuDmJG/ozC9+ZTN/aMOnAE63/g2eleT3kjzsfYUAwFjck7Vr8bM2e/FPtnACcLLhcu8xSd6b5DeTzG75gQCA83V/kg8n+UBnfvGurT7ItgLgQcPl3pOz9naD1yZ50rYfEAA43f8muTrJn3TmF7+33QfbkQA42XC598KsvWvgtUmeu6MPDgC1fCtrF/1rOvOLX9/JB97xADjZcLn3lCQ/muTxSZ6w/uuDXxeO7BsDwOQ4kuTgSV+3rP/6zc784ndH9U1HGgAAwO606XcBAACTTwAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFCQAAKAgAQAABQkAAChIAABAQQIAAAoSAABQkAAAgIIEAAAUJAAAoCABAAAFCQAAKEgAAEBBAgAAChIAAFCQAACAggQAABQkAACgIAEAAAUJAAAoSAAAQEECAAAKEgAAUJAAAICCBAAAFPT/dgG9DLVApFQAAAAASUVORK5CYII="},4851:function(e,t,o){e.exports=o.p+"img/default-file.a768fe2b.png"},5390:function(e,t,o){e.exports=o.p+"img/image.e60e5740.png"},2843:function(e,t,o){e.exports=o.p+"img/pdf.af28e85a.png"},1984:function(e,t,o){e.exports=o.p+"img/text.41bbe04a.png"}},t={};function o(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,o),s.exports}o.m=e,function(){var e=[];o.O=function(t,a,r,s){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],s=e[d][2];for(var n=!0,l=0;l<a.length;l++)(!1&s||i>=s)&&Object.keys(o.O).every((function(e){return o.O[e](a[l])}))?a.splice(l--,1):(n=!1,s<i&&(i=s));if(n){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,r,s]}}(),function(){o.d=function(e,t){for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,s,i=a[0],n=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in n)o.o(n,r)&&(o.m[r]=n[r]);if(l)var d=l(o)}for(t&&t(a);c<i.length;c++)s=i[c],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return o.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=o.O(void 0,[504],(function(){return o(7403)}));a=o.O(a)})();
//# sourceMappingURL=app.8a9028f2.js.map